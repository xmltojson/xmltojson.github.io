<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–®–∞–±–±–∞—Ç / Shabbat</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Open+Sans:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #1a237e;
            --secondary: #3949ab;
            --gold: #ffd700;
            --light-gold: #fff8dc;
            --dark: #0d1421;
            --light: #f5f5f5;
        }

        body {
            font-family: 'Open Sans', sans-serif;
            background: linear-gradient(135deg, var(--dark) 0%, #1a1a2e 50%, #16213e 100%);
            min-height: 100vh;
            color: var(--light);
            overflow-x: hidden;
        }

        /* Stars Background */
        .stars-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            animation: twinkle 2s infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.2); }
        }

        /* Header */
        .header {
            background: linear-gradient(180deg, rgba(26, 35, 126, 0.9) 0%, transparent 100%);
            padding: 20px;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            backdrop-filter: blur(10px);
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .menorah {
            font-size: 2.5rem;
            animation: glow 2s infinite;
        }

        @keyframes glow {
            0%, 100% { filter: drop-shadow(0 0 5px var(--gold)); }
            50% { filter: drop-shadow(0 0 20px var(--gold)); }
        }

        .logo h1 {
            font-family: 'Playfair Display', serif;
            font-size: 1.8rem;
            color: var(--gold);
        }

        .nav-controls {
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .lang-switch {
            display: flex;
            gap: 5px;
        }

        .lang-btn {
            padding: 8px 16px;
            border: 2px solid var(--gold);
            background: transparent;
            color: var(--gold);
            cursor: pointer;
            border-radius: 20px;
            transition: all 0.3s;
            font-weight: 600;
        }

        .lang-btn.active, .lang-btn:hover {
            background: var(--gold);
            color: var(--dark);
        }

        /* User Stats */
        .user-stats {
            display: flex;
            gap: 20px;
            align-items: center;
            background: rgba(255, 215, 0, 0.1);
            padding: 10px 20px;
            border-radius: 30px;
            border: 1px solid rgba(255, 215, 0, 0.3);
        }

        .stat-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .stat-icon {
            font-size: 1.5rem;
        }

        .stat-value {
            font-weight: 700;
            color: var(--gold);
            font-size: 1.2rem;
        }

        /* Main Content */
        .main-content {
            margin-top: 100px;
            padding: 20px;
            max-width: 1400px;
            margin-left: auto;
            margin-right: auto;
            position: relative;
            z-index: 1;
        }

        /* Shabbat Timer */
        .shabbat-timer {
            background: linear-gradient(135deg, rgba(57, 73, 171, 0.3) 0%, rgba(26, 35, 126, 0.5) 100%);
            border-radius: 30px;
            padding: 40px;
            margin-bottom: 40px;
            border: 2px solid rgba(255, 215, 0, 0.3);
            position: relative;
            overflow: hidden;
        }

        .timer-glow {
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 215, 0, 0.1) 0%, transparent 50%);
            animation: rotate 20s linear infinite;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .timer-content {
            position: relative;
            z-index: 1;
        }

        .timer-title {
            font-family: 'Playfair Display', serif;
            font-size: 2rem;
            color: var(--gold);
            text-align: center;
            margin-bottom: 30px;
        }

        .location-input {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .location-input input, .location-input select {
            padding: 15px 25px;
            border: 2px solid rgba(255, 215, 0, 0.5);
            background: rgba(0, 0, 0, 0.3);
            color: var(--light);
            border-radius: 25px;
            font-size: 1rem;
            min-width: 200px;
        }

        .location-input button {
            padding: 15px 30px;
            background: linear-gradient(135deg, var(--gold) 0%, #ffb700 100%);
            border: none;
            border-radius: 25px;
            color: var(--dark);
            font-weight: 700;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .location-input button:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 30px rgba(255, 215, 0, 0.3);
        }

        .shabbat-times {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .time-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 25px;
            text-align: center;
            border: 1px solid rgba(255, 215, 0, 0.2);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .time-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(255, 215, 0, 0.2);
        }

        .time-card h3 {
            color: var(--gold);
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .time-card .time {
            font-size: 2rem;
            font-weight: 700;
            color: var(--light);
        }

        .time-card .date {
            color: rgba(255, 255, 255, 0.7);
            margin-top: 5px;
        }

        .countdown {
            text-align: center;
            margin-top: 30px;
            padding: 30px;
            background: rgba(255, 215, 0, 0.1);
            border-radius: 20px;
        }

        .countdown h3 {
            color: var(--gold);
            margin-bottom: 15px;
            font-size: 1.3rem;
        }

        .countdown-timer {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .countdown-item {
            text-align: center;
        }

        .countdown-value {
            font-size: 3rem;
            font-weight: 700;
            color: var(--gold);
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
        }

        .countdown-label {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.7);
        }

        /* Navigation Tabs */
        .nav-tabs {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 40px;
            flex-wrap: wrap;
        }

        .nav-tab {
            padding: 15px 30px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(255, 215, 0, 0.3);
            border-radius: 30px;
            color: var(--light);
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
        }

        .nav-tab:hover, .nav-tab.active {
            background: var(--gold);
            color: var(--dark);
            transform: scale(1.05);
        }

        /* Sections */
        .section {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section-title {
            font-family: 'Playfair Display', serif;
            font-size: 2.5rem;
            color: var(--gold);
            text-align: center;
            margin-bottom: 40px;
            position: relative;
        }

        .section-title::after {
            content: '‚ú°';
            display: block;
            font-size: 1.5rem;
            margin-top: 10px;
            animation: spin 10s linear infinite;
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        /* History Section */
        .history-content {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 30px;
            padding: 40px;
            border: 1px solid rgba(255, 215, 0, 0.2);
        }

        .history-content p {
            line-height: 1.8;
            margin-bottom: 20px;
            font-size: 1.1rem;
        }

        .quote-box {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.1) 0%, rgba(255, 215, 0, 0.05) 100%);
            border-left: 4px solid var(--gold);
            padding: 25px;
            margin: 30px 0;
            border-radius: 0 20px 20px 0;
            font-style: italic;
        }

        .quote-box cite {
            display: block;
            margin-top: 15px;
            color: var(--gold);
            font-style: normal;
            font-weight: 600;
        }

        /* 39 Melachot */
        .melachot-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .melacha-category {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 25px;
            border: 1px solid rgba(255, 215, 0, 0.2);
        }

        .melacha-category h3 {
            color: var(--gold);
            margin-bottom: 15px;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .melacha-item {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.3s;
            border: 1px solid transparent;
        }

        .melacha-item:hover {
            border-color: var(--gold);
            transform: translateX(10px);
        }

        .melacha-item h4 {
            color: var(--light);
            margin-bottom: 5px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .melacha-item .number {
            background: var(--gold);
            color: var(--dark);
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: 700;
        }

        .melacha-item p {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
            display: none;
        }

        .melacha-item.expanded p {
            display: block;
            margin-top: 10px;
            animation: fadeIn 0.3s ease;
        }

        /* Preparation Section */
        .preparation-timeline {
            position: relative;
            padding-left: 50px;
        }

        .preparation-timeline::before {
            content: '';
            position: absolute;
            left: 20px;
            top: 0;
            bottom: 0;
            width: 3px;
            background: linear-gradient(180deg, var(--gold) 0%, rgba(255, 215, 0, 0.3) 100%);
        }

        .prep-item {
            position: relative;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 20px;
            border: 1px solid rgba(255, 215, 0, 0.2);
            transition: all 0.3s;
        }

        .prep-item:hover {
            transform: translateX(10px);
            border-color: var(--gold);
        }

        .prep-item::before {
            content: '';
            position: absolute;
            left: -38px;
            top: 30px;
            width: 20px;
            height: 20px;
            background: var(--gold);
            border-radius: 50%;
            box-shadow: 0 0 20px var(--gold);
        }

        .prep-item h3 {
            color: var(--gold);
            margin-bottom: 10px;
            font-size: 1.2rem;
        }

        .prep-item .time-badge {
            display: inline-block;
            background: rgba(255, 215, 0, 0.2);
            padding: 5px 15px;
            border-radius: 15px;
            font-size: 0.9rem;
            margin-bottom: 15px;
            color: var(--gold);
        }

        .prep-item ul {
            list-style: none;
            padding: 0;
        }

        .prep-item li {
            padding: 8px 0;
            padding-left: 25px;
            position: relative;
        }

        .prep-item li::before {
            content: '‚úì';
            position: absolute;
            left: 0;
            color: var(--gold);
        }

        /* Checklist */
        .checklist-container {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 30px;
            padding: 40px;
            border: 1px solid rgba(255, 215, 0, 0.2);
        }

        .checklist-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 15px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .checklist-item:hover {
            background: rgba(255, 215, 0, 0.1);
        }

        .checklist-item.checked {
            background: rgba(76, 175, 80, 0.2);
        }

        .checklist-item.checked .checkbox {
            background: #4CAF50;
            border-color: #4CAF50;
        }

        .checklist-item.checked .checkbox::after {
            content: '‚úì';
            color: white;
        }

        .checkbox {
            width: 30px;
            height: 30px;
            border: 2px solid var(--gold);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        /* Rewards Section */
        .rewards-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }

        .reward-card {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.1) 0%, rgba(255, 215, 0, 0.05) 100%);
            border-radius: 25px;
            padding: 30px;
            text-align: center;
            border: 2px solid rgba(255, 215, 0, 0.3);
            transition: all 0.3s;
        }

        .reward-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 50px rgba(255, 215, 0, 0.2);
        }

        .reward-icon {
            font-size: 4rem;
            margin-bottom: 20px;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .reward-card h3 {
            color: var(--gold);
            margin-bottom: 15px;
            font-size: 1.5rem;
        }

        .progress-bar {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            height: 20px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--gold) 0%, #ffb700 100%);
            border-radius: 15px;
            transition: width 0.5s ease;
        }

        .streak-calendar {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
            margin-top: 20px;
        }

        .calendar-day {
            aspect-ratio: 1;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            transition: all 0.3s;
        }

        .calendar-day.visited {
            background: var(--gold);
            color: var(--dark);
        }

        .calendar-day.today {
            border: 2px solid var(--gold);
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            border-radius: 30px;
            padding: 40px;
            max-width: 600px;
            width: 100%;
            border: 2px solid var(--gold);
            animation: modalIn 0.3s ease;
        }

        @keyframes modalIn {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        .modal-close {
            float: right;
            font-size: 2rem;
            cursor: pointer;
            color: var(--gold);
            transition: transform 0.3s;
        }

        .modal-close:hover {
            transform: rotate(90deg);
        }

        /* Floating Candles */
        .floating-candles {
            position: fixed;
            bottom: 20px;
            right: 20px;
            display: flex;
            gap: 10px;
            z-index: 100;
        }

        .candle {
            font-size: 2rem;
            animation: flicker 1s infinite;
        }

        @keyframes flicker {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.8; transform: scale(1.1); }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 15px;
            }

            .user-stats {
                flex-wrap: wrap;
                justify-content: center;
            }

            .nav-tabs {
                flex-direction: column;
                align-items: center;
            }

            .nav-tab {
                width: 100%;
                max-width: 300px;
                text-align: center;
            }

            .countdown-value {
                font-size: 2rem;
            }

            .preparation-timeline {
                padding-left: 30px;
            }

            .preparation-timeline::before {
                left: 10px;
            }

            .prep-item::before {
                left: -28px;
                width: 15px;
                height: 15px;
            }
        }

        /* Achievement Popup */
        .achievement-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            background: linear-gradient(135deg, var(--gold) 0%, #ffb700 100%);
            color: var(--dark);
            padding: 40px;
            border-radius: 30px;
            text-align: center;
            z-index: 3000;
            transition: transform 0.5s ease;
        }

        .achievement-popup.show {
            transform: translate(-50%, -50%) scale(1);
        }

        .achievement-popup h2 {
            font-size: 2rem;
            margin-bottom: 15px;
        }

        .achievement-popup .icon {
            font-size: 5rem;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <!-- Stars Background -->
    <div class="stars-bg" id="starsBg"></div>

    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="logo">
                <span class="menorah">üïé</span>
                <h1 data-uk="–®–∞–±–±–∞—Ç" data-en="Shabbat">–®–∞–±–±–∞—Ç</h1>
            </div>
            <div class="nav-controls">
                <div class="user-stats">
                    <div class="stat-item">
                        <span class="stat-icon">‚≠ê</span>
                        <span class="stat-value" id="totalStars">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-icon">üî•</span>
                        <span class="stat-value" id="streakCount">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-icon">üíé</span>
                        <span class="stat-value" id="totalPoints">0</span>
                    </div>
                </div>
                <div class="lang-switch">
                    <button class="lang-btn active" data-lang="uk">UA</button>
                    <button class="lang-btn" data-lang="en">EN</button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Shabbat Timer -->
        <section class="shabbat-timer">
            <div class="timer-glow"></div>
            <div class="timer-content">
                <h2 class="timer-title" data-uk="–ß–∞—Å –®–∞–±–±–∞—Ç—É" data-en="Shabbat Times">–ß–∞—Å –®–∞–±–±–∞—Ç—É</h2>
                <div class="location-input">
                    <input type="text" id="cityInput" placeholder="–í–≤–µ–¥—ñ—Ç—å –º—ñ—Å—Ç–æ / Enter city" data-uk-placeholder="–í–≤–µ–¥—ñ—Ç—å –º—ñ—Å—Ç–æ" data-en-placeholder="Enter city">
                    <select id="countrySelect">
                        <option value="UA" data-uk="–£–∫—Ä–∞—ó–Ω–∞" data-en="Ukraine">–£–∫—Ä–∞—ó–Ω–∞</option>
                        <option value="IL" data-uk="–Ü–∑—Ä–∞—ó–ª—å" data-en="Israel">–Ü–∑—Ä–∞—ó–ª—å</option>
                        <option value="US" data-uk="–°–®–ê" data-en="USA">–°–®–ê</option>
                        <option value="GB" data-uk="–í–µ–ª–∏–∫–æ–±—Ä–∏—Ç–∞–Ω—ñ—è" data-en="UK">–í–µ–ª–∏–∫–æ–±—Ä–∏—Ç–∞–Ω—ñ—è</option>
                        <option value="DE" data-uk="–ù—ñ–º–µ—á—á–∏–Ω–∞" data-en="Germany">–ù—ñ–º–µ—á—á–∏–Ω–∞</option>
                        <option value="FR" data-uk="–§—Ä–∞–Ω—Ü—ñ—è" data-en="France">–§—Ä–∞–Ω—Ü—ñ—è</option>
                        <option value="CA" data-uk="–ö–∞–Ω–∞–¥–∞" data-en="Canada">–ö–∞–Ω–∞–¥–∞</option>
                    </select>
                    <button onclick="calculateShabbatTimes()" data-uk="–†–æ–∑—Ä–∞—Ö—É–≤–∞—Ç–∏" data-en="Calculate">–†–æ–∑—Ä–∞—Ö—É–≤–∞—Ç–∏</button>
                </div>
                <div class="shabbat-times" id="shabbatTimes">
                    <div class="time-card">
                        <h3 data-uk="üïØÔ∏è –ó–∞–ø–∞–ª—é–≤–∞–Ω–Ω—è —Å–≤—ñ—á–æ–∫" data-en="üïØÔ∏è Candle Lighting">üïØÔ∏è –ó–∞–ø–∞–ª—é–≤–∞–Ω–Ω—è —Å–≤—ñ—á–æ–∫</h3>
                        <div class="time" id="candleLighting">--:--</div>
                        <div class="date" id="candleDate">---</div>
                    </div>
                    <div class="time-card">
                        <h3 data-uk="üåÖ –ó–∞—Ö—ñ–¥ —Å–æ–Ω—Ü—è" data-en="üåÖ Sunset">üåÖ –ó–∞—Ö—ñ–¥ —Å–æ–Ω—Ü—è</h3>
                        <div class="time" id="sunset">--:--</div>
                        <div class="date" id="sunsetDate">---</div>
                    </div>
                    <div class="time-card">
                        <h3 data-uk="‚≠ê –í–∏—Ö—ñ–¥ –∑—ñ—Ä–æ–∫" data-en="‚≠ê Nightfall">‚≠ê –í–∏—Ö—ñ–¥ –∑—ñ—Ä–æ–∫</h3>
                        <div class="time" id="havdalah">--:--</div>
                        <div class="date" id="havdalahDate">---</div>
                    </div>
                    <div class="time-card">
                        <h3 data-uk="üåô –ê–≤–¥–∞–ª–∞" data-en="üåô Havdalah">üåô –ê–≤–¥–∞–ª–∞</h3>
                        <div class="time" id="havdalahEnd">--:--</div>
                        <div class="date" id="havdalahEndDate">---</div>
                    </div>
                </div>
                <div class="countdown">
                    <h3 id="countdownTitle" data-uk="–î–æ –ø–æ—á–∞—Ç–∫—É –®–∞–±–±–∞—Ç—É –∑–∞–ª–∏—à–∏–ª–æ—Å—å:" data-en="Time until Shabbat:">–î–æ –ø–æ—á–∞—Ç–∫—É –®–∞–±–±–∞—Ç—É –∑–∞–ª–∏—à–∏–ª–æ—Å—å:</h3>
                    <div class="countdown-timer">
                        <div class="countdown-item">
                            <div class="countdown-value" id="countDays">0</div>
                            <div class="countdown-label" data-uk="–¥–Ω—ñ–≤" data-en="days">–¥–Ω—ñ–≤</div>
                        </div>
                        <div class="countdown-item">
                            <div class="countdown-value" id="countHours">0</div>
                            <div class="countdown-label" data-uk="–≥–æ–¥–∏–Ω" data-en="hours">–≥–æ–¥–∏–Ω</div>
                        </div>
                        <div class="countdown-item">
                            <div class="countdown-value" id="countMinutes">0</div>
                            <div class="countdown-label" data-uk="—Ö–≤–∏–ª–∏–Ω" data-en="minutes">—Ö–≤–∏–ª–∏–Ω</div>
                        </div>
                        <div class="countdown-item">
                            <div class="countdown-value" id="countSeconds">0</div>
                            <div class="countdown-label" data-uk="—Å–µ–∫—É–Ω–¥" data-en="seconds">—Å–µ–∫—É–Ω–¥</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Navigation Tabs -->
        <nav class="nav-tabs">
            <button class="nav-tab active" data-section="history" data-uk="üìú –Ü—Å—Ç–æ—Ä—ñ—è" data-en="üìú History">üìú –Ü—Å—Ç–æ—Ä—ñ—è</button>
            <button class="nav-tab" data-section="rules" data-uk="üìã 39 –ú–µ–ª–∞—Ö–æ—Ç" data-en="üìã 39 Melachot">üìã 39 –ú–µ–ª–∞—Ö–æ—Ç</button>
            <button class="nav-tab" data-section="preparation" data-uk="‚ú® –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞" data-en="‚ú® Preparation">‚ú® –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞</button>
            <button class="nav-tab" data-section="checklist" data-uk="‚úÖ –ß–µ–∫-–ª–∏—Å—Ç" data-en="‚úÖ Checklist">‚úÖ –ß–µ–∫-–ª–∏—Å—Ç</button>
            <button class="nav-tab" data-section="rewards" data-uk="üèÜ –ù–∞–≥–æ—Ä–æ–¥–∏" data-en="üèÜ Rewards">üèÜ –ù–∞–≥–æ—Ä–æ–¥–∏</button>
        </nav>

        <!-- History Section -->
        <section class="section active" id="history">
            <h2 class="section-title" data-uk="–Ü—Å—Ç–æ—Ä—ñ—è –®–∞–±–±–∞—Ç—É" data-en="History of Shabbat">–Ü—Å—Ç–æ—Ä—ñ—è –®–∞–±–±–∞—Ç—É</h2>
            <div class="history-content">
                <p data-uk="–®–∞–±–±–∞—Ç (◊©÷∑◊Å◊ë÷∏÷º◊™) ‚Äî —Å—å–æ–º–∏–π –¥–µ–Ω—å —Ç–∏–∂–Ω—è –≤ —é–¥–∞—ó–∑–º—ñ, –¥–µ–Ω—å –≤—ñ–¥–ø–æ—á–∏–Ω–∫—É, —â–æ —Å–≤—è—Ç–∫—É—î—Ç—å—Å—è –≤—ñ–¥ –∑–∞—Ö–æ–¥—É —Å–æ–Ω—Ü—è –≤ –ø'—è—Ç–Ω–∏—Ü—é –¥–æ –ø–æ—è–≤–∏ –∑—ñ—Ä–æ–∫ —É —Å—É–±–æ—Ç—É –≤–≤–µ—á–µ—Ä—ñ. –¶–µ –æ–¥–∏–Ω –∑ –Ω–∞–π–≤–∞–∂–ª–∏–≤—ñ—à–∏—Ö —ñ–Ω—Å—Ç–∏—Ç—É—Ç—ñ–≤ —é–¥–∞—ó–∑–º—É, –∑–∞–ø–æ–≤—ñ–¥–∞–Ω–∏–π —É –¢–æ—Ä—ñ." 
                   data-en="Shabbat (◊©÷∑◊Å◊ë÷∏÷º◊™) ‚Äî the seventh day of the week in Judaism, a day of rest celebrated from sunset on Friday until the appearance of stars on Saturday evening. It is one of the most important institutions of Judaism, commanded in the Torah.">
                    –®–∞–±–±–∞—Ç (◊©÷∑◊Å◊ë÷∏÷º◊™) ‚Äî —Å—å–æ–º–∏–π –¥–µ–Ω—å —Ç–∏–∂–Ω—è –≤ —é–¥–∞—ó–∑–º—ñ, –¥–µ–Ω—å –≤—ñ–¥–ø–æ—á–∏–Ω–∫—É, —â–æ —Å–≤—è—Ç–∫—É—î—Ç—å—Å—è –≤—ñ–¥ –∑–∞—Ö–æ–¥—É —Å–æ–Ω—Ü—è –≤ –ø'—è—Ç–Ω–∏—Ü—é –¥–æ –ø–æ—è–≤–∏ –∑—ñ—Ä–æ–∫ —É —Å—É–±–æ—Ç—É –≤–≤–µ—á–µ—Ä—ñ. –¶–µ –æ–¥–∏–Ω –∑ –Ω–∞–π–≤–∞–∂–ª–∏–≤—ñ—à–∏—Ö —ñ–Ω—Å—Ç–∏—Ç—É—Ç—ñ–≤ —é–¥–∞—ó–∑–º—É, –∑–∞–ø–æ–≤—ñ–¥–∞–Ω–∏–π —É –¢–æ—Ä—ñ.
                </p>
                
                <div class="quote-box">
                    <p data-uk="¬´–ü–∞–º'—è—Ç–∞–π –¥–µ–Ω—å —Å—É–±–æ—Ç–Ω—ñ–π, —â–æ–± —Å–≤—è—Ç–∏—Ç–∏ –π–æ–≥–æ. –®—ñ—Å—Ç—å –¥–Ω—ñ–≤ –ø—Ä–∞—Ü—é–π —ñ —Ä–æ–±–∏ –≤—Å—é —Ä–æ–±–æ—Ç—É —Å–≤–æ—é, –∞ –¥–µ–Ω—å —Å—å–æ–º–∏–π ‚Äî —Å—É–±–æ—Ç–∞ –ì–æ—Å–ø–æ–¥—É, –ë–æ–≥—É —Ç–≤–æ—î–º—É¬ª" 
                       data-en="'Remember the Sabbath day, to keep it holy. Six days you shall labor and do all your work, but the seventh day is a Sabbath to the Lord your God'">
                        ¬´–ü–∞–º'—è—Ç–∞–π –¥–µ–Ω—å —Å—É–±–æ—Ç–Ω—ñ–π, —â–æ–± —Å–≤—è—Ç–∏—Ç–∏ –π–æ–≥–æ. –®—ñ—Å—Ç—å –¥–Ω—ñ–≤ –ø—Ä–∞—Ü—é–π —ñ —Ä–æ–±–∏ –≤—Å—é —Ä–æ–±–æ—Ç—É —Å–≤–æ—é, –∞ –¥–µ–Ω—å —Å—å–æ–º–∏–π ‚Äî —Å—É–±–æ—Ç–∞ –ì–æ—Å–ø–æ–¥—É, –ë–æ–≥—É —Ç–≤–æ—î–º—É¬ª
                    </p>
                    <cite data-uk="‚Äî –®–º–æ—Ç (–í–∏—Ö—ñ–¥) 20:8-10" data-en="‚Äî Exodus 20:8-10">‚Äî –®–º–æ—Ç (–í–∏—Ö—ñ–¥) 20:8-10</cite>
                </div>

                <p data-uk="–ü–æ—Ö–æ–¥–∂–µ–Ω–Ω—è –®–∞–±–±–∞—Ç—É –ø–æ–≤'—è–∑–∞–Ω–µ –∑ –±—ñ–±–ª—ñ–π–Ω–æ—é —Ä–æ–∑–ø–æ–≤—ñ–¥–¥—é –ø—Ä–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å–≤—ñ—Ç—É. –ó–≥—ñ–¥–Ω–æ –∑ –ö–Ω–∏–≥–æ—é –ë—É—Ç—Ç—è, –ë–æ–≥ —Å—Ç–≤–æ—Ä–∏–≤ —Å–≤—ñ—Ç –∑–∞ —à—ñ—Å—Ç—å –¥–Ω—ñ–≤, –∞ –Ω–∞ —Å—å–æ–º–∏–π –¥–µ–Ω—å –≤—ñ–¥–ø–æ—á–∏–≤ –≤—ñ–¥ —É—Å—ñ—î—ó –°–≤–æ—î—ó —Ä–æ–±–æ—Ç–∏. –¢–æ–º—É –í—ñ–Ω –±–ª–∞–≥–æ—Å–ª–æ–≤–∏–≤ —Å—å–æ–º–∏–π –¥–µ–Ω—å —ñ –æ—Å–≤—è—Ç–∏–≤ –π–æ–≥–æ." 
                   data-en="The origin of Shabbat is connected to the biblical account of creation. According to the Book of Genesis, God created the world in six days and rested on the seventh day from all His work. Therefore, He blessed the seventh day and sanctified it.">
                    –ü–æ—Ö–æ–¥–∂–µ–Ω–Ω—è –®–∞–±–±–∞—Ç—É –ø–æ–≤'—è–∑–∞–Ω–µ –∑ –±—ñ–±–ª—ñ–π–Ω–æ—é —Ä–æ–∑–ø–æ–≤—ñ–¥–¥—é –ø—Ä–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å–≤—ñ—Ç—É. –ó–≥—ñ–¥–Ω–æ –∑ –ö–Ω–∏–≥–æ—é –ë—É—Ç—Ç—è, –ë–æ–≥ —Å—Ç–≤–æ—Ä–∏–≤ —Å–≤—ñ—Ç –∑–∞ —à—ñ—Å—Ç—å –¥–Ω—ñ–≤, –∞ –Ω–∞ —Å—å–æ–º–∏–π –¥–µ–Ω—å –≤—ñ–¥–ø–æ—á–∏–≤ –≤—ñ–¥ —É—Å—ñ—î—ó –°–≤–æ—î—ó —Ä–æ–±–æ—Ç–∏. –¢–æ–º—É –í—ñ–Ω –±–ª–∞–≥–æ—Å–ª–æ–≤–∏–≤ —Å—å–æ–º–∏–π –¥–µ–Ω—å —ñ –æ—Å–≤—è—Ç–∏–≤ –π–æ–≥–æ.
                </p>

                <p data-uk="–®–∞–±–±–∞—Ç —î –∑–Ω–∞–∫–æ–º –∑–∞–≤—ñ—Ç—É –º—ñ–∂ –ë–æ–≥–æ–º —Ç–∞ –Ω–∞—Ä–æ–¥–æ–º –Ü–∑—Ä–∞—ó–ª—é. –î–æ—Ç—Ä–∏–º–∞–Ω–Ω—è –®–∞–±–±–∞—Ç—É —Å–≤—ñ–¥—á–∏—Ç—å –ø—Ä–æ –≤–∏–∑–Ω–∞–Ω–Ω—è –ë–æ–≥–∞ —è–∫ –¢–≤–æ—Ä—Ü—è —Å–≤—ñ—Ç—É —Ç–∞ –ø—Ä–æ –¥–æ–≤—ñ—Ä—É –¥–æ –ô–æ–≥–æ –ø—Ä–æ–≤–∏–¥—ñ–Ω–Ω—è. –ü—Ä–æ—Ç—è–≥–æ–º —Ç–∏—Å—è—á–æ–ª—ñ—Ç—å –®–∞–±–±–∞—Ç –∑–∞–ª–∏—à–∞–≤—Å—è —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–∏–º –µ–ª–µ–º–µ–Ω—Ç–æ–º —î–≤—Ä–µ–π—Å—å–∫–æ–≥–æ –∂–∏—Ç—Ç—è, –∑–±–µ—Ä—ñ–≥–∞—é—á–∏ —î–≤—Ä–µ–π—Å—å–∫—É —ñ–¥–µ–Ω—Ç–∏—á–Ω—ñ—Å—Ç—å –Ω–∞–≤—ñ—Ç—å —É –Ω–∞–π–≤–∞–∂—á—ñ —á–∞—Å–∏." 
                   data-en="Shabbat is a sign of the covenant between God and the people of Israel. Observing Shabbat testifies to the recognition of God as the Creator of the world and trust in His providence. Throughout millennia, Shabbat has remained a central element of Jewish life, preserving Jewish identity even in the most difficult times.">
                    –®–∞–±–±–∞—Ç —î –∑–Ω–∞–∫–æ–º –∑–∞–≤—ñ—Ç—É –º—ñ–∂ –ë–æ–≥–æ–º —Ç–∞ –Ω–∞—Ä–æ–¥–æ–º –Ü–∑—Ä–∞—ó–ª—é. –î–æ—Ç—Ä–∏–º–∞–Ω–Ω—è –®–∞–±–±–∞—Ç—É —Å–≤—ñ–¥—á–∏—Ç—å –ø—Ä–æ –≤–∏–∑–Ω–∞–Ω–Ω—è –ë–æ–≥–∞ —è–∫ –¢–≤–æ—Ä—Ü—è —Å–≤—ñ—Ç—É —Ç–∞ –ø—Ä–æ –¥–æ–≤—ñ—Ä—É –¥–æ –ô–æ–≥–æ –ø—Ä–æ–≤–∏–¥—ñ–Ω–Ω—è. –ü—Ä–æ—Ç—è–≥–æ–º —Ç–∏—Å—è—á–æ–ª—ñ—Ç—å –®–∞–±–±–∞—Ç –∑–∞–ª–∏—à–∞–≤—Å—è —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–∏–º –µ–ª–µ–º–µ–Ω—Ç–æ–º —î–≤—Ä–µ–π—Å—å–∫–æ–≥–æ –∂–∏—Ç—Ç—è, –∑–±–µ—Ä—ñ–≥–∞—é—á–∏ —î–≤—Ä–µ–π—Å—å–∫—É —ñ–¥–µ–Ω—Ç–∏—á–Ω—ñ—Å—Ç—å –Ω–∞–≤—ñ—Ç—å —É –Ω–∞–π–≤–∞–∂—á—ñ —á–∞—Å–∏.
                </p>

                <div class="quote-box">
                    <p data-uk="¬´–ë—ñ–ª—å—à–µ, –Ω—ñ–∂ —î–≤—Ä–µ—ó –∑–±–µ—Ä—ñ–≥–∞–ª–∏ –®–∞–±–±–∞—Ç, –®–∞–±–±–∞—Ç –∑–±–µ—Ä—ñ–≥–∞–≤ —î–≤—Ä–µ—ó–≤¬ª" 
                       data-en="'More than the Jews have kept Shabbat, Shabbat has kept the Jews'">
                        ¬´–ë—ñ–ª—å—à–µ, –Ω—ñ–∂ —î–≤—Ä–µ—ó –∑–±–µ—Ä—ñ–≥–∞–ª–∏ –®–∞–±–±–∞—Ç, –®–∞–±–±–∞—Ç –∑–±–µ—Ä—ñ–≥–∞–≤ —î–≤—Ä–µ—ó–≤¬ª
                    </p>
                    <cite data-uk="‚Äî –ê—Ö–∞–¥ —Ö–∞-–ê–º" data-en="‚Äî Ahad Ha'am">‚Äî –ê—Ö–∞–¥ —Ö–∞-–ê–º</cite>
                </div>

                <p data-uk="–®–∞–±–±–∞—Ç –Ω–∞–∑–∏–≤–∞—é—Ç—å '◊û◊¢◊ô◊ü ◊¢◊ï◊ú◊ù ◊î◊ë◊ê' (–º–µ–µ–π–Ω –æ–ª–∞–º —Ö–∞–±–∞) ‚Äî '–ø–æ–¥–æ–±–æ—é –º–∞–π–±—É—Ç–Ω—å–æ–≥–æ —Å–≤—ñ—Ç—É'. –¶–µ —á–∞—Å, –∫–æ–ª–∏ —î–≤—Ä–µ–π –≤—ñ–¥–∫–ª–∞–¥–∞—î –≤—Å—ñ –±—É–¥–µ–Ω–Ω—ñ —Ç—É—Ä–±–æ—Ç–∏ —ñ –ø—Ä–∏—Å–≤—è—á—É—î —Å–µ–±–µ –¥—É—Ö–æ–≤–Ω–æ–º—É –∑—Ä–æ—Å—Ç–∞–Ω–Ω—é, —Å—ñ–º–µ–π–Ω–æ–º—É —Å–ø—ñ–ª–∫—É–≤–∞–Ω–Ω—é —Ç–∞ –≤—ñ–¥–ø–æ—á–∏–Ω–∫—É." 
                   data-en="Shabbat is called '◊û◊¢◊ô◊ü ◊¢◊ï◊ú◊ù ◊î◊ë◊ê' (me'ein olam haba) ‚Äî 'a taste of the world to come'. It is a time when a Jew sets aside all mundane concerns and dedicates themselves to spiritual growth, family connection, and rest.">
                    –®–∞–±–±–∞—Ç –Ω–∞–∑–∏–≤–∞—é—Ç—å '◊û◊¢◊ô◊ü ◊¢◊ï◊ú◊ù ◊î◊ë◊ê' (–º–µ–µ–π–Ω –æ–ª–∞–º —Ö–∞–±–∞) ‚Äî '–ø–æ–¥–æ–±–æ—é –º–∞–π–±—É—Ç–Ω—å–æ–≥–æ —Å–≤—ñ—Ç—É'. –¶–µ —á–∞—Å, –∫–æ–ª–∏ —î–≤—Ä–µ–π –≤—ñ–¥–∫–ª–∞–¥–∞—î –≤—Å—ñ –±—É–¥–µ–Ω–Ω—ñ —Ç—É—Ä–±–æ—Ç–∏ —ñ –ø—Ä–∏—Å–≤—è—á—É—î —Å–µ–±–µ –¥—É—Ö–æ–≤–Ω–æ–º—É –∑—Ä–æ—Å—Ç–∞–Ω–Ω—é, —Å—ñ–º–µ–π–Ω–æ–º—É —Å–ø—ñ–ª–∫—É–≤–∞–Ω–Ω—é —Ç–∞ –≤—ñ–¥–ø–æ—á–∏–Ω–∫—É.
                </p>

                <p data-uk="–¢—Ä–∞–¥–∏—Ü—ñ–π–Ω–æ –®–∞–±–±–∞—Ç –ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è —ñ–∑ –∑–∞–ø–∞–ª—é–≤–∞–Ω–Ω—è —Å–≤—ñ—á–æ–∫ –∂—ñ–Ω–∫–æ—é –¥–æ–º—É –∑–∞ 18 —Ö–≤–∏–ª–∏–Ω –¥–æ –∑–∞—Ö–æ–¥—É —Å–æ–Ω—Ü—è –≤ –ø'—è—Ç–Ω–∏—Ü—é. –¶–µ —Å–∏–º–≤–æ–ª—ñ–∑—É—î –≤–Ω–µ—Å–µ–Ω–Ω—è —Å–≤—ñ—Ç–ª–∞ —Ç–∞ —Å–≤—è—Ç–æ—Å—Ç—ñ –≤ –¥—ñ–º. –ü–æ—Ç—ñ–º —Å—ñ–º'—è –∑–±–∏—Ä–∞—î—Ç—å—Å—è –Ω–∞ —Å–≤—è—Ç–∫–æ–≤—É –≤–µ—á–µ—Ä—é, —è–∫–∞ –ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è –∑ –ö—ñ–¥—É—à—É ‚Äî –±–ª–∞–≥–æ—Å–ª–æ–≤–µ–Ω–Ω—è –Ω–∞–¥ –≤–∏–Ω–æ–º." 
                   data-en="Traditionally, Shabbat begins with the lighting of candles by the woman of the house 18 minutes before sunset on Friday. This symbolizes bringing light and holiness into the home. Then the family gathers for a festive dinner, which begins with Kiddush ‚Äî the blessing over wine.">
                    –¢—Ä–∞–¥–∏—Ü—ñ–π–Ω–æ –®–∞–±–±–∞—Ç –ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è —ñ–∑ –∑–∞–ø–∞–ª—é–≤–∞–Ω–Ω—è —Å–≤—ñ—á–æ–∫ –∂—ñ–Ω–∫–æ—é –¥–æ–º—É –∑–∞ 18 —Ö–≤–∏–ª–∏–Ω –¥–æ –∑–∞—Ö–æ–¥—É —Å–æ–Ω—Ü—è –≤ –ø'—è—Ç–Ω–∏—Ü—é. –¶–µ —Å–∏–º–≤–æ–ª—ñ–∑—É—î –≤–Ω–µ—Å–µ–Ω–Ω—è —Å–≤—ñ—Ç–ª–∞ —Ç–∞ —Å–≤—è—Ç–æ—Å—Ç—ñ –≤ –¥—ñ–º. –ü–æ—Ç—ñ–º —Å—ñ–º'—è –∑–±–∏—Ä–∞—î—Ç—å—Å—è –Ω–∞ —Å–≤—è—Ç–∫–æ–≤—É –≤–µ—á–µ—Ä—é, —è–∫–∞ –ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è –∑ –ö—ñ–¥—É—à—É ‚Äî –±–ª–∞–≥–æ—Å–ª–æ–≤–µ–Ω–Ω—è –Ω–∞–¥ –≤–∏–Ω–æ–º.
                </p>
            </div>
        </section>

        <!-- 39 Melachot Section -->
        <section class="section" id="rules">
            <h2 class="section-title" data-uk="39 –ú–µ–ª–∞—Ö–æ—Ç ‚Äî –ó–∞–±–æ—Ä–æ–Ω–µ–Ω—ñ —Ä–æ–±–æ—Ç–∏" data-en="39 Melachot ‚Äî Forbidden Works">39 –ú–µ–ª–∞—Ö–æ—Ç ‚Äî –ó–∞–±–æ—Ä–æ–Ω–µ–Ω—ñ —Ä–æ–±–æ—Ç–∏</h2>
            <p style="text-align: center; margin-bottom: 30px; opacity: 0.8;" data-uk="–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –Ω–∞ –±—É–¥—å-—è–∫—É –º–µ–ª–∞—Ö—É, —â–æ–± –¥—ñ–∑–Ω–∞—Ç–∏—Å—è –±—ñ–ª—å—à–µ" data-en="Click on any melacha to learn more">–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –Ω–∞ –±—É–¥—å-—è–∫—É –º–µ–ª–∞—Ö—É, —â–æ–± –¥—ñ–∑–Ω–∞—Ç–∏—Å—è –±—ñ–ª—å—à–µ</p>
            <div class="melachot-grid" id="melachotGrid">
                <!-- Will be populated by JavaScript -->
            </div>
        </section>

        <!-- Preparation Section -->
        <section class="section" id="preparation">
            <h2 class="section-title" data-uk="–ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–æ –®–∞–±–±–∞—Ç—É" data-en="Shabbat Preparation">–ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–æ –®–∞–±–±–∞—Ç—É</h2>
            <div class="preparation-timeline" id="preparationTimeline">
                <!-- Will be populated by JavaScript -->
            </div>
        </section>

        <!-- Checklist Section -->
        <section class="section" id="checklist">
            <h2 class="section-title" data-uk="–ß–µ–∫-–ª–∏—Å—Ç –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∏" data-en="Preparation Checklist">–ß–µ–∫-–ª–∏—Å—Ç –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∏</h2>
            <div class="checklist-container" id="checklistContainer">
                <!-- Will be populated by JavaScript -->
            </div>
        </section>

        <!-- Rewards Section -->
        <section class="section" id="rewards">
            <h2 class="section-title" data-uk="–í–∞—à—ñ –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—è" data-en="Your Achievements">–í–∞—à—ñ –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—è</h2>
            <div class="rewards-container">
                <div class="reward-card">
                    <div class="reward-icon">‚≠ê</div>
                    <h3 data-uk="–ó—ñ—Ä–∫–∏ –≤—ñ–¥–≤—ñ–¥—É–≤–∞–Ω—å" data-en="Visit Stars">–ó—ñ—Ä–∫–∏ –≤—ñ–¥–≤—ñ–¥—É–≤–∞–Ω—å</h3>
                    <p data-uk="–û—Ç—Ä–∏–º—É–π—Ç–µ –∑—ñ—Ä–∫—É –∑–∞ –∫–æ–∂–µ–Ω –¥–µ–Ω—å –≤—ñ–¥–≤—ñ–¥—É–≤–∞–Ω–Ω—è" data-en="Earn a star for each day you visit">–û—Ç—Ä–∏–º—É–π—Ç–µ –∑—ñ—Ä–∫—É –∑–∞ –∫–æ–∂–µ–Ω –¥–µ–Ω—å –≤—ñ–¥–≤—ñ–¥—É–≤–∞–Ω–Ω—è</p>
                    <div class="progress-bar">
                        <div class="progress-fill" id="starsProgress" style="width: 0%"></div>
                    </div>
                    <p><span id="starsCount">0</span> / 30 <span data-uk="–∑—ñ—Ä–æ–∫" data-en="stars">–∑—ñ—Ä–æ–∫</span></p>
                </div>
                <div class="reward-card">
                    <div class="reward-icon">üî•</div>
                    <h3 data-uk="–°–µ—Ä—ñ—è –≤—ñ–¥–≤—ñ–¥—É–≤–∞–Ω—å" data-en="Visit Streak">–°–µ—Ä—ñ—è –≤—ñ–¥–≤—ñ–¥—É–≤–∞–Ω—å</h3>
                    <p data-uk="–í—ñ–¥–≤—ñ–¥—É–π—Ç–µ —â–æ–¥–Ω—è –¥–ª—è –∑–±—ñ–ª—å—à–µ–Ω–Ω—è —Å–µ—Ä—ñ—ó" data-en="Visit daily to increase your streak">–í—ñ–¥–≤—ñ–¥—É–π—Ç–µ —â–æ–¥–Ω—è –¥–ª—è –∑–±—ñ–ª—å—à–µ–Ω–Ω—è —Å–µ—Ä—ñ—ó</p>
                    <div class="progress-bar">
                        <div class="progress-fill" id="streakProgress" style="width: 0%"></div>
                    </div>
                    <p><span id="currentStreak">0</span> <span data-uk="–¥–Ω—ñ–≤ –ø–æ—Å–ø—ñ–ª—å" data-en="days in a row">–¥–Ω—ñ–≤ –ø–æ—Å–ø—ñ–ª—å</span></p>
                    <p style="margin-top: 10px; opacity: 0.7;"><span data-uk="–†–µ–∫–æ—Ä–¥:" data-en="Record:">–†–µ–∫–æ—Ä–¥:</span> <span id="maxStreak">0</span></p>
                </div>
                <div class="reward-card">
                    <div class="reward-icon">üíé</div>
                    <h3 data-uk="–ë–æ–Ω—É—Å–Ω—ñ –±–∞–ª–∏" data-en="Bonus Points">–ë–æ–Ω—É—Å–Ω—ñ –±–∞–ª–∏</h3>
                    <p data-uk="–ë–∞–ª–∏ –∑–∞ —Å–µ—Ä—ñ—ó: 7 –¥–Ω—ñ–≤ = 50 –±–∞–ª—ñ–≤, 30 –¥–Ω—ñ–≤ = 300 –±–∞–ª—ñ–≤" data-en="Streak bonuses: 7 days = 50 points, 30 days = 300 points">–ë–∞–ª–∏ –∑–∞ —Å–µ—Ä—ñ—ó: 7 –¥–Ω—ñ–≤ = 50 –±–∞–ª—ñ–≤, 30 –¥–Ω—ñ–≤ = 300 –±–∞–ª—ñ–≤</p>
                    <div style="font-size: 3rem; color: var(--gold); margin: 20px 0;" id="pointsDisplay">0</div>
                    <p data-uk="–∑–∞–≥–∞–ª—å–Ω–∏—Ö –±–∞–ª—ñ–≤" data-en="total points">–∑–∞–≥–∞–ª—å–Ω–∏—Ö –±–∞–ª—ñ–≤</p>
                </div>
                <div class="reward-card">
                    <div class="reward-icon">üìÖ</div>
                    <h3 data-uk="–ö–∞–ª–µ–Ω–¥–∞—Ä –≤—ñ–¥–≤—ñ–¥—É–≤–∞–Ω—å" data-en="Visit Calendar">–ö–∞–ª–µ–Ω–¥–∞—Ä –≤—ñ–¥–≤—ñ–¥—É–≤–∞–Ω—å</h3>
                    <div class="streak-calendar" id="streakCalendar">
                        <!-- Will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Floating Candles -->
    <div class="floating-candles">
        <span class="candle">üïØÔ∏è</span>
        <span class="candle" style="animation-delay: 0.3s;">üïØÔ∏è</span>
    </div>

    <!-- Achievement Popup -->
    <div class="achievement-popup" id="achievementPopup">
        <div class="icon" id="achievementIcon">üèÜ</div>
        <h2 id="achievementTitle">–î–æ—Å—è–≥–Ω–µ–Ω–Ω—è!</h2>
        <p id="achievementText">–í–∏ –æ—Ç—Ä–∏–º–∞–ª–∏ –Ω–∞–≥–æ—Ä–æ–¥—É!</p>
    </div>

    <!-- Modal -->
    <div class="modal" id="modal">
        <div class="modal-content">
            <span class="modal-close" onclick="closeModal()">√ó</span>
            <div id="modalContent"></div>
        </div>
    </div>

    <script>
        // ==================== DATA ====================
        const melachotData = {
            uk: {
                categories: [
                    {
                        name: "üåæ –í–∏—Ä–æ—â—É–≤–∞–Ω–Ω—è —Ö–ª—ñ–±–∞",
                        icon: "üåæ",
                        melachot: [
                            { num: 1, name: "–•–æ—Ä—ñ—àa (◊ó◊ï◊®◊©)", title: "–û—Ä–∞–Ω–∫–∞", desc: "–ë—É–¥—å-—è–∫–∞ —Ä–æ–±–æ—Ç–∞ –∑ –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∏ –∑–µ–º–ª—ñ –¥–ª—è –ø–æ—Å—ñ–≤—É: –∫–æ–ø–∞–Ω–Ω—è, —Ä–æ–∑–ø—É—à—É–≤–∞–Ω–Ω—è, –≤–∏–¥–∞–ª–µ–Ω–Ω—è –∫–∞–º–µ–Ω—ñ–≤. –ó–∞–±–æ—Ä–æ–Ω–µ–Ω–æ —Ç–∞–∫–æ–∂ –ø—ñ–¥–º—ñ—Ç–∞—Ç–∏ –∑–µ–º–ª—è–Ω—É –ø—ñ–¥–ª–æ–≥—É –∞–±–æ —Ç—è–≥–Ω—É—Ç–∏ –º–µ–±–ª—ñ –ø–æ –∑–µ–º–ª—ñ, —è–∫—â–æ —Ü–µ –∑–∞–ª–∏—à–∞—î –±–æ—Ä–æ–∑–Ω–∏." },
                            { num: 2, name: "–ó–æ—Ä√©–∞ (◊ñ◊ï◊®◊¢)", title: "–°—ñ—è–Ω–Ω—è", desc: "–ü–æ—Å–∞–¥–∫–∞ –Ω–∞—Å—ñ–Ω–Ω—è –∞–±–æ –±—É–¥—å-—è–∫–∞ –¥—ñ—è, —â–æ —Å–ø—Ä–∏—è—î —Ä–æ—Å—Ç—É —Ä–æ—Å–ª–∏–Ω: –ø–æ–ª–∏–≤, –≤–Ω–µ—Å–µ–Ω–Ω—è –¥–æ–±—Ä–∏–≤, –ø–µ—Ä–µ—Å–∞–¥–∫–∞. –ó–∞–±–æ—Ä–æ–Ω–µ–Ω–æ –ø–æ–ª–∏–≤–∞—Ç–∏ —Ä–æ—Å–ª–∏–Ω–∏ –∞–±–æ —Å—Ç–∞–≤–∏—Ç–∏ –∫–≤—ñ—Ç–∏ —É –≤–æ–¥—É." },
                            { num: 3, name: "–ö–æ—Ü√©—Ä (◊ß◊ï◊¶◊®)", title: "–ñ–Ω–∏–≤–∞", desc: "–í—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è —Ä–æ—Å–ª–∏–Ω–∏ –≤—ñ–¥ –º—ñ—Å—Ü—è —ó—ó —Ä–æ—Å—Ç—É: –∑—Ä–∏–≤–∞–Ω–Ω—è –ø–ª–æ–¥—ñ–≤, –∑—Ä—ñ–∑–∞–Ω–Ω—è –∫–≤—ñ—Ç—ñ–≤, –∑–±–∏—Ä–∞–Ω–Ω—è –≥—Ä–∏–±—ñ–≤. –ó–∞–±–æ—Ä–æ–Ω–µ–Ω–æ –Ω–∞–≤—ñ—Ç—å –ø—ñ–¥–±–∏—Ä–∞—Ç–∏ –æ–ø–∞–ª–µ –ª–∏—Å—Ç—è –∑ –¥–µ—Ä–µ–≤–∞." },
                            { num: 4, name: "–ú–µ–∞–º√©—Ä (◊û◊¢◊û◊®)", title: "–ó–±–∏—Ä–∞–Ω–Ω—è —Å–Ω–æ–ø—ñ–≤", desc: "–ó–±–∏—Ä–∞–Ω–Ω—è —Ä–∞–∑–æ–º —Ä–æ–∑–∫–∏–¥–∞–Ω–∏—Ö –ø—Ä–∏—Ä–æ–¥–Ω–∏—Ö –º–∞—Ç–µ—Ä—ñ–∞–ª—ñ–≤: —Å–∫–ª–∞–¥–∞–Ω–Ω—è —Å–Ω–æ–ø—ñ–≤, –∑–±–∏—Ä–∞–Ω–Ω—è —Ñ—Ä—É–∫—Ç—ñ–≤ —É –∫–æ—à–∏–∫ –Ω–∞ –ø–æ–ª—ñ. –ó–∞–±–æ—Ä–æ–Ω–µ–Ω–æ –∑–±–∏—Ä–∞—Ç–∏ —è–≥–æ–¥–∏ –≤ –æ–¥–Ω–µ –º—ñ—Å—Ü–µ." },
                            { num: 5, name: "–î–∞—à (◊ì◊©)", title: "–ú–æ–ª–æ—Ç—å–±–∞", desc: "–í—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è —ó—Å—Ç—ñ–≤–Ω–æ—ó —á–∞—Å—Ç–∏–Ω–∏ –≤—ñ–¥ –Ω–µ—ó—Å—Ç—ñ–≤–Ω–æ—ó –æ–±–æ–ª–æ–Ω–∫–∏: –ª—É—â–µ–Ω–Ω—è –≥–æ—Ä—ñ—Ö—ñ–≤, –≤–∏—á–∞–≤–ª—é–≤–∞–Ω–Ω—è —Å–æ–∫—É –∑ —Ñ—Ä—É–∫—Ç—ñ–≤. –ó–∞–±–æ—Ä–æ–Ω–µ–Ω–æ –≤–∏—á–∞–≤–ª—é–≤–∞—Ç–∏ —Å—ñ–∫ –∑ —Ñ—Ä—É–∫—Ç—ñ–≤ (–∫—Ä—ñ–º –ª–∏–º–æ–Ω–∞ –≤ —ó–∂—É)." },
                            { num: 6, name: "–ó–æ—Ä√© (◊ñ◊ï◊®◊î)", title: "–í—ñ—è–Ω–Ω—è", desc: "–í—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è –±–∞–∂–∞–Ω–æ–≥–æ –≤—ñ–¥ –Ω–µ–±–∞–∂–∞–Ω–æ–≥–æ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –≤—ñ—Ç—Ä—É: –ø—Ä–æ—Å—ñ—é–≤–∞–Ω–Ω—è –∑–µ—Ä–Ω–∞. –ó–∞–±–æ—Ä–æ–Ω–µ–Ω–æ –∑–¥—É–≤–∞—Ç–∏ –ª—É—à–ø–∏–Ω–Ω—è –∑ —ó–∂—ñ." },
                            { num: 7, name: "–ë–æ—Ä√©—Ä (◊ë◊ï◊®◊®)", title: "–°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è", desc: "–í—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è –Ω–µ–±–∞–∂–∞–Ω–æ–≥–æ –≤—ñ–¥ –±–∞–∂–∞–Ω–æ–≥–æ. –î–æ–∑–≤–æ–ª–µ–Ω–æ –≤–∏–±–∏—Ä–∞—Ç–∏ —ó–∂—É –∑ –≤—ñ–¥—Ö–æ–¥—ñ–≤ –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –ø–µ—Ä–µ–¥ —ó–∂–µ—é —Ä—É–∫–æ—é. –ó–∞–±–æ—Ä–æ–Ω–µ–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Å–∏—Ç–æ –∞–±–æ –≤–∏–±–∏—Ä–∞—Ç–∏ –≤—ñ–¥—Ö–æ–¥–∏ –∑ —ó–∂—ñ." },
                            { num: 8, name: "–¢–æ—Ö√©–Ω (◊ò◊ï◊ó◊ü)", title: "–ü–æ–º–µ–ª", desc: "–ü–æ–¥—Ä—ñ–±–Ω–µ–Ω–Ω—è –Ω–∞ –¥—Ä—ñ–±–Ω—ñ —á–∞—Å—Ç–∏–Ω–∏: –ø–æ–º–µ–ª –∑–µ—Ä–Ω–∞, –Ω–∞—Ç–∏—Ä–∞–Ω–Ω—è –æ–≤–æ—á—ñ–≤ –Ω–∞ —Ç–µ—Ä—Ç—Ü—ñ. –ó–∞–±–æ—Ä–æ–Ω–µ–Ω–æ —Ä—ñ–∑–∞—Ç–∏ –æ–≤–æ—á—ñ –¥—É–∂–µ –¥—Ä—ñ–±–Ω–æ (–∫—Ä—ñ–º –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –ø–µ—Ä–µ–¥ —ó–∂–µ—é)." },
                            { num: 9, name: "–ú–µ—Ä–∞–∫√©–¥ (◊û◊®◊ß◊ì)", title: "–ü—Ä–æ—Å—ñ—é–≤–∞–Ω–Ω—è", desc: "–í—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è –≥—Ä—É–±–∏—Ö —á–∞—Å—Ç–∏–Ω –≤—ñ–¥ –¥—Ä—ñ–±–Ω–∏—Ö –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Å–∏—Ç–∞. –ó–∞–±–æ—Ä–æ–Ω–µ–Ω–æ –ø—Ä–æ—Å—ñ—é–≤–∞—Ç–∏ –±–æ—Ä–æ—à–Ω–æ –∞–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –±—É–¥—å-—è–∫–µ —Å–∏—Ç–æ." },
                            { num: 10, name: "–õ–∞—à (◊ú◊©)", title: "–ó–∞–º—ñ—à—É–≤–∞–Ω–Ω—è", desc: "–ó–º—ñ—à—É–≤–∞–Ω–Ω—è –ø–æ—Ä–æ—à–∫–æ–ø–æ–¥—ñ–±–Ω–æ—ó —Ä–µ—á–æ–≤–∏–Ω–∏ –∑ —Ä—ñ–¥–∏–Ω–æ—é –¥–ª—è —É—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç—ñ—Å—Ç–∞. –ó–∞–±–æ—Ä–æ–Ω–µ–Ω–æ –∑–º—ñ—à—É–≤–∞—Ç–∏ –º—É–∫—É –∑ –≤–æ–¥–æ—é –∞–±–æ —Ä–æ–±–∏—Ç–∏ –≥—É—Å—Ç—ñ —Å—É–º—ñ—à—ñ." },
                            { num: 11, name: "–û—Ñ√© (◊ê◊ï◊§◊î)", title: "–í–∏–ø—ñ–∫–∞–Ω–Ω—è", desc: "–ó–º—ñ–Ω–∞ —Å—Ç–∞–Ω—É —ó–∂—ñ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Ç–µ–ø–ª–∞: –≤–∏–ø—ñ–∫–∞–Ω–Ω—è, –≤–∞—Ä—ñ–Ω–Ω—è, —Å–º–∞–∂–µ–Ω–Ω—è. –ó–∞–±–æ—Ä–æ–Ω–µ–Ω–æ –≥–æ—Ç—É–≤–∞—Ç–∏ –±—É–¥—å-—è–∫—É —ó–∂—É, –≤–∫–ª—é—á–∞—é—á–∏ –ø—ñ–¥—ñ–≥—Ä—ñ–≤–∞–Ω–Ω—è —Ä—ñ–¥–∏–Ω –¥–æ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∏, –∫–æ–ª–∏ —Ä—É–∫–∞ –≤—ñ–¥—Å–º–∏–∫—É—î—Ç—å—Å—è." }
                        ]
                    },
                    {
                        name: "üëó –í–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—è –æ–¥—è–≥—É",
                        icon: "üëó",
                        melachot: [
                            { num: 12, name: "–ì–æ–∑√©–∑ (◊í◊ï◊ñ◊ñ)", title: "–°—Ç—Ä–∏–∂–∫–∞", desc: "–í—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è –≤–æ–ª–æ—Å—Å—è, –≤–æ–≤–Ω–∏ –∞–±–æ –ø—ñ—Ä'—è –≤—ñ–¥ —Ç—ñ–ª–∞: —Å—Ç—Ä–∏–∂–∫–∞ –≤–æ–ª–æ—Å—Å—è, –≥–æ–ª—ñ–Ω–Ω—è, –≤–∏—â–∏–ø—É–≤–∞–Ω–Ω—è –±—Ä—ñ–≤. –ó–∞–±–æ—Ä–æ–Ω–µ–Ω–æ —Å—Ç—Ä–∏–≥—Ç–∏ –Ω—ñ–≥—Ç—ñ –∞–±–æ –≤–∏—Ä–∏–≤–∞—Ç–∏ –≤–æ–ª–æ—Å—Å—è." },
                            { num: 13, name: "–ú–µ–ª–∞–±√©–Ω (◊û◊ú◊ë◊ü)", title: "–í—ñ–¥–±—ñ–ª—é–≤–∞–Ω–Ω—è", desc: "–û—á–∏—â–µ–Ω–Ω—è —Ç–∞ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è –∑–æ–≤–Ω—ñ—à–Ω—å–æ–≥–æ –≤–∏–≥–ª—è–¥—É –º–∞—Ç–µ—Ä—ñ–∞–ª—É: –ø—Ä–∞–Ω–Ω—è, –≤–∏–≤–µ–¥–µ–Ω–Ω—è –ø–ª—è–º, –∑–∞–º–æ—á—É–≤–∞–Ω–Ω—è. –ó–∞–±–æ—Ä–æ–Ω–µ–Ω–æ –ø—Ä–∞—Ç–∏ –∞–±–æ –∑–∞–º–æ—á—É–≤–∞—Ç–∏ –æ–¥—è–≥." },
                            { num: 14, name: "–ú–µ–Ω–∞–ø√©—Ü (◊û◊†◊§◊•)", title: "–ß–µ—Å–∞–Ω–Ω—è", desc: "–†–æ–∑–¥—ñ–ª–µ–Ω–Ω—è —Ç–∞ —Ä–æ–∑–ø—Ä—è–º–ª–µ–Ω–Ω—è –≤–æ–ª–æ–∫–æ–Ω: —á–µ—Å–∞–Ω–Ω—è –≤–æ–≤–Ω–∏, —Ä–æ–∑–ø–ª—É—Ç—É–≤–∞–Ω–Ω—è –Ω–∏—Ç–æ–∫. –ó–∞–±–æ—Ä–æ–Ω–µ–Ω–æ —Ä–æ–∑—á—ñ—Å—É–≤–∞—Ç–∏ –ø–µ—Ä—É–∫–∏ –∑ –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–æ–≥–æ –≤–æ–ª–æ—Å—Å—è." },
                            { num: 15, name: "–¶–æ–≤√©–∞ (◊¶◊ï◊ë◊¢)", title: "–§–∞—Ä–±—É–≤–∞–Ω–Ω—è", desc: "–ù–∞–¥–∞–Ω–Ω—è –∫–æ–ª—å–æ—Ä—É –º–∞—Ç–µ—Ä—ñ–∞–ª—É: —Ñ–∞—Ä–±—É–≤–∞–Ω–Ω—è —Ç–∫–∞–Ω–∏–Ω–∏, –Ω–∞–Ω–µ—Å–µ–Ω–Ω—è –º–∞–∫—ñ—è–∂—É. –ó–∞–±–æ—Ä–æ–Ω–µ–Ω–æ —Ñ–∞—Ä–±—É–≤–∞—Ç–∏ –≤–æ–ª–æ—Å—Å—è, –Ω–∞–Ω–æ—Å–∏—Ç–∏ –º–∞–∫—ñ—è–∂ –∞–±–æ –ª–∞–∫ –¥–ª—è –Ω—ñ–≥—Ç—ñ–≤." },
                            { num: 16, name: "–¢–æ–≤√© (◊ò◊ï◊ï◊î)", title: "–ü—Ä—è–¥—ñ–Ω–Ω—è", desc: "–°–∫—Ä—É—á—É–≤–∞–Ω–Ω—è –≤–æ–ª–æ–∫–æ–Ω —É –Ω–∏—Ç–∫—É. –ó–∞–±–æ—Ä–æ–Ω–µ–Ω–æ —Å–∫—Ä—É—á—É–≤–∞—Ç–∏ –≤–æ–ª–æ–∫–Ω–∞ –∞–±–æ —Ä–æ–±–∏—Ç–∏ –º–æ—Ç—É–∑–∫–∏." },
                            { num: 17, name: "–ú–µ–π—Å√°—Ö (◊û◊ô◊°◊ö)", title: "–ù–∞—Ç—è–≥—É–≤–∞–Ω–Ω—è –Ω–∏—Ç–æ–∫", desc: "–ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –Ω–∏—Ç–æ–∫ –æ—Å–Ω–æ–≤–∏ –Ω–∞ —Ç–∫–∞—Ü—å–∫–æ–º—É –≤–µ—Ä—Å—Ç–∞—Ç—ñ. –ó–∞–±–æ—Ä–æ–Ω–µ–Ω–æ –Ω–∞—Ç—è–≥—É–≤–∞—Ç–∏ –Ω–∏—Ç–∫–∏ –¥–ª—è –ø–ª–µ—Ç—ñ–Ω–Ω—è." },
                            { num: 18, name: "–û—Å√© —à—Ç–µ–π –±–∞—Ç–µ–π –Ω—ñ—Ä—ñ–Ω (◊¢◊ï◊©◊î ◊©◊™◊ô ◊ë◊™◊ô ◊†◊ô◊®◊ô◊ü)", title: "–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–µ—Ç–µ–ª—å", desc: "–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–µ—Ç–µ–ª—å –¥–ª—è —Ç–∫–∞—Ü—Ç–≤–∞. –ó–∞–±–æ—Ä–æ–Ω–µ–Ω–æ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –ø–µ—Ç–ª—ñ –∞–±–æ –≤—É–∑–ª–∏ –¥–ª—è –ø–ª–µ—Ç—ñ–Ω–Ω—è." },
                            { num: 19, name: "–û—Ä√©–≥ (◊ê◊ï◊®◊í)", title: "–¢–∫–∞—Ü—Ç–≤–æ", desc: "–ü–µ—Ä–µ–ø–ª–µ—Ç–µ–Ω–Ω—è –Ω–∏—Ç–æ–∫ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∫–∞–Ω–∏–Ω–∏: —Ç–∫–∞—Ü—Ç–≤–æ, –ø–ª–µ—Ç—ñ–Ω–Ω—è, –≤'—è–∑–∞–Ω–Ω—è. –ó–∞–±–æ—Ä–æ–Ω–µ–Ω–æ –≤'—è–∑–∞—Ç–∏, –ø–ª–µ—Å—Ç–∏ –∞–±–æ —Ä–æ–±–∏—Ç–∏ –º–∞–∫—Ä–∞–º–µ." },
                            { num: 20, name: "–ü–æ—Ü√©–∞ (◊§◊ï◊¶◊¢)", title: "–†–æ–∑–¥—ñ–ª–µ–Ω–Ω—è –Ω–∏—Ç–æ–∫", desc: "–†–æ–∑–¥—ñ–ª–µ–Ω–Ω—è —Ç–∫–∞–Ω–∏—Ö –Ω–∏—Ç–æ–∫. –ó–∞–±–æ—Ä–æ–Ω–µ–Ω–æ —Ä–æ–∑–ø—É—Å–∫–∞—Ç–∏ –≤'—è–∑–∞–Ω–Ω—è –∞–±–æ —Ä–æ–∑–¥—ñ–ª—è—Ç–∏ –Ω–∏—Ç–∫–∏." },
                            { num: 21, name: "–ö–æ—à√©—Ä (◊ß◊ï◊©◊®)", title: "–ó–∞–≤'—è–∑—É–≤–∞–Ω–Ω—è –≤—É–∑–ª–∞", desc: "–ó–∞–≤'—è–∑—É–≤–∞–Ω–Ω—è –ø–æ—Å—Ç—ñ–π–Ω–æ–≥–æ –∞–±–æ –Ω–∞–ø—ñ–≤–ø–æ—Å—Ç—ñ–π–Ω–æ–≥–æ –≤—É–∑–ª–∞. –ó–∞–±–æ—Ä–æ–Ω–µ–Ω–æ –∑–∞–≤'—è–∑—É–≤–∞—Ç–∏ –ø–æ–¥–≤—ñ–π–Ω—ñ –≤—É–∑–ª–∏ –∞–±–æ –≤—É–∑–ª–∏, —â–æ –∑–∞–ª–∏—à–∞—é—Ç—å—Å—è –Ω–∞–¥–æ–≤–≥–æ. –î–æ–∑–≤–æ–ª–µ–Ω–æ –∑–∞–≤'—è–∑—É–≤–∞—Ç–∏ –±–∞–Ω—Ç." },
                            { num: 22, name: "–ú–∞—Ç—ñ—Ä (◊û◊™◊ô◊®)", title: "–†–æ–∑–≤'—è–∑—É–≤–∞–Ω–Ω—è –≤—É–∑–ª–∞", desc: "–†–æ–∑–≤'—è–∑—É–≤–∞–Ω–Ω—è –ø–æ—Å—Ç—ñ–π–Ω–æ–≥–æ –≤—É–∑–ª–∞. –ó–∞–±–æ—Ä–æ–Ω–µ–Ω–æ —Ä–æ–∑–≤'—è–∑—É–≤–∞—Ç–∏ –≤—É–∑–ª–∏, —â–æ –±—É–ª–∏ –∑–∞–≤'—è–∑–∞–Ω—ñ –Ω–∞–¥–æ–≤–≥–æ." },
                            { num: 23, name: "–¢–æ—Ñ√©—Ä (◊™◊ï◊§◊®)", title: "–®–∏—Ç—Ç—è", desc: "–ó'—î–¥–Ω–∞–Ω–Ω—è –º–∞—Ç–µ—Ä—ñ–∞–ª—ñ–≤ —à–∏—Ç—Ç—è–º: —à–∏—Ç—Ç—è, —Å—Ç–µ–ø–ª—é–≤–∞–Ω–Ω—è, —Å–∫–ª–µ—é–≤–∞–Ω–Ω—è. –ó–∞–±–æ—Ä–æ–Ω–µ–Ω–æ —à–∏—Ç–∏, –ø—Ä–∏–∫–ª–µ—é–≤–∞—Ç–∏ –∞–±–æ —Å–∫—Ä—ñ–ø–ª—é–≤–∞—Ç–∏ –º–∞—Ç–µ—Ä—ñ–∞–ª–∏." },
                            { num: 24, name: "–ö–æ—Ä√©–∞ (◊ß◊ï◊®◊¢)", title: "–†–æ–∑—Ä–∏–≤–∞–Ω–Ω—è", desc: "–†–æ–∑–¥—ñ–ª–µ–Ω–Ω—è –º–∞—Ç–µ—Ä—ñ–∞–ª—É: —Ä–æ–∑—Ä–∏–≤–∞–Ω–Ω—è —Ç–∫–∞–Ω–∏–Ω–∏, –ø–∞–ø–µ—Ä—É. –ó–∞–±–æ—Ä–æ–Ω–µ–Ω–æ —Ä–≤–∞—Ç–∏ –ø–∞–ø—ñ—Ä, –≤—ñ–¥–∫—Ä–∏–≤–∞—Ç–∏ –∑–∞–ø–µ—á–∞—Ç–∞–Ω—ñ –ø–∞–∫–µ—Ç–∏ (—è–∫—â–æ —Ü–µ –ø–æ—à–∫–æ–¥–∂—É—î –Ω–∞–ø–∏—Å–∏)." }
                        ]
                    },
                    {
                        name: "ü¶å –û–±—Ä–æ–±–∫–∞ —à–∫—ñ—Ä–∏",
                        icon: "ü¶å",
                        melachot: [
                            { num: 25, name: "–¶–∞–¥ (◊¶◊ì)", title: "–ü–æ–ª—é–≤–∞–Ω–Ω—è", desc: "–õ–æ–≤–ª—è –∞–±–æ –æ–±–º–µ–∂–µ–Ω–Ω—è —Å–≤–æ–±–æ–¥–∏ –∂–∏–≤–æ—ó —ñ—Å—Ç–æ—Ç–∏: –ø–æ–ª—é–≤–∞–Ω–Ω—è, –ª–æ–≤–ª—è —Ä–∏–±–∏, –ª–æ–≤–ª—è –∫–æ–º–∞—Ö. –ó–∞–±–æ—Ä–æ–Ω–µ–Ω–æ –ª–æ–≤–∏—Ç–∏ —Ç–≤–∞—Ä–∏–Ω –∞–±–æ –∫–æ–º–∞—Ö, –∑–∞–∫—Ä–∏–≤–∞—Ç–∏ —ó—Ö —É –ø—Ä–∏–º—ñ—â–µ–Ω–Ω—ñ." },
                            { num: 26, name: "–®–æ—Ö√©—Ç (◊©◊ï◊ó◊ò)", title: "–ó–∞–±—ñ–π", desc: "–ü–æ–∑–±–∞–≤–ª–µ–Ω–Ω—è –∂–∏—Ç—Ç—è –∂–∏–≤–æ—ó —ñ—Å—Ç–æ—Ç–∏. –ó–∞–±–æ—Ä–æ–Ω–µ–Ω–æ –≤–±–∏–≤–∞—Ç–∏ –±—É–¥—å-—è–∫—É –∂–∏–≤—É —ñ—Å—Ç–æ—Ç—É, –≤–∫–ª—é—á–∞—é—á–∏ –∫–æ–º–∞—Ö." },
                            { num: 27, name: "–ú–∞—Ñ—à√≠—Ç (◊û◊§◊©◊ô◊ò)", title: "–ó–¥–∏—Ä–∞–Ω–Ω—è —à–∫—ñ—Ä–∏", desc: "–í—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è —à–∫—ñ—Ä–∏ –≤—ñ–¥ —Ç—ñ–ª–∞ —Ç–≤–∞—Ä–∏–Ω–∏. –ó–∞–±–æ—Ä–æ–Ω–µ–Ω–æ –∑–Ω—ñ–º–∞—Ç–∏ —à–∫—ñ—Ä—É –∑ —Ç–≤–∞—Ä–∏–Ω–∏ –∞–±–æ —Ä–∏–±–∏." },
                            { num: 28, name: "–ú–µ–∞–±√©–¥ (◊û◊¢◊ë◊ì)", title: "–î—É–±–ª–µ–Ω–Ω—è", desc: "–û–±—Ä–æ–±–∫–∞ —à–∫—ñ—Ä–∏ –¥–ª—è —ó—ó –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è: –∑–∞—Å–æ–ª—é–≤–∞–Ω–Ω—è, –¥—É–±–ª–µ–Ω–Ω—è. –ó–∞–±–æ—Ä–æ–Ω–µ–Ω–æ –æ–±—Ä–æ–±–ª—è—Ç–∏ —à–∫—ñ—Ä—É –∞–±–æ –Ω–∞–Ω–æ—Å–∏—Ç–∏ –∫–æ–Ω—Å–µ—Ä–≤–∞–Ω—Ç–∏." },
                            { num: 29, name: "–ú–µ–º–∞—Ö√©–∫ (◊û◊û◊ó◊ß)", title: "–í–∏–≥–ª–∞–¥–∂—É–≤–∞–Ω–Ω—è", desc: "–ó–≥–ª–∞–¥–∂—É–≤–∞–Ω–Ω—è –ø–æ–≤–µ—Ä—Ö–Ω—ñ: —à–ª—ñ—Ñ—É–≤–∞–Ω–Ω—è —à–∫—ñ—Ä–∏, –ø–æ–ª—ñ—Ä—É–≤–∞–Ω–Ω—è. –ó–∞–±–æ—Ä–æ–Ω–µ–Ω–æ –ø–æ–ª—ñ—Ä—É–≤–∞—Ç–∏ –≤–∑—É—Ç—Ç—è –∞–±–æ –∑–≥–ª–∞–¥–∂—É–≤–∞—Ç–∏ –ø–æ–≤–µ—Ä—Ö–Ω—ñ." },
                            { num: 30, name: "–ú–µ—Å–∞—Ä—Ç√©—Ç (◊û◊©◊®◊ò◊ò)", title: "–†–æ–∑–º—ñ—á–∞–Ω–Ω—è", desc: "–ù–∞–Ω–µ—Å–µ–Ω–Ω—è –ª—ñ–Ω—ñ–π –¥–ª—è —Ä—ñ–∑–∞–Ω–Ω—è –∞–±–æ –ø–∏—Å–∞–Ω–Ω—è. –ó–∞–±–æ—Ä–æ–Ω–µ–Ω–æ —Ä–æ–∑–º—ñ—á–∞—Ç–∏ –ª—ñ–Ω—ñ—ó –Ω–∞ –º–∞—Ç–µ—Ä—ñ–∞–ª—ñ." },
                            { num: 31, name: "–ú–µ—Ö–∞—Ç√©—Ö (◊û◊ó◊™◊ö)", title: "–í–∏—Ä—ñ–∑–∞–Ω–Ω—è –∑–∞ —Ä–æ–∑–º—ñ—Ä–æ–º", desc: "–í–∏—Ä—ñ–∑–∞–Ω–Ω—è –º–∞—Ç–µ—Ä—ñ–∞–ª—É –∑–∞ –ø–µ–≤–Ω–∏–º —Ä–æ–∑–º—ñ—Ä–æ–º –∞–±–æ —Ñ–æ—Ä–º–æ—é. –ó–∞–±–æ—Ä–æ–Ω–µ–Ω–æ –≤–∏—Ä—ñ–∑–∞—Ç–∏ –ø–∞–ø—ñ—Ä, —Ç–∫–∞–Ω–∏–Ω—É –∞–±–æ —ñ–Ω—à—ñ –º–∞—Ç–µ—Ä—ñ–∞–ª–∏ –∑–∞ —Ñ–æ—Ä–º–æ—é." }
                        ]
                    },
                    {
                        name: "‚úçÔ∏è –ü–∏—Å–∞–Ω–Ω—è —Ç–∞ –±—É–¥—ñ–≤–Ω–∏—Ü—Ç–≤–æ",
                        icon: "‚úçÔ∏è",
                        melachot: [
                            { num: 32, name: "–ö–æ—Ç√©–≤ (◊õ◊ï◊™◊ë)", title: "–ü–∏—Å–∞–Ω–Ω—è", desc: "–ù–∞–Ω–µ—Å–µ–Ω–Ω—è –∑–Ω–∞—á—É—â–∏—Ö –∑–Ω–∞–∫—ñ–≤: –ø–∏—Å–∞–Ω–Ω—è, –º–∞–ª—é–≤–∞–Ω–Ω—è, –¥—Ä—É–∫—É–≤–∞–Ω–Ω—è. –ó–∞–±–æ—Ä–æ–Ω–µ–Ω–æ –ø–∏—Å–∞—Ç–∏, –º–∞–ª—é–≤–∞—Ç–∏, –¥—Ä—É–∫—É–≤–∞—Ç–∏ –∞–±–æ –Ω–∞–±–∏—Ä–∞—Ç–∏ —Ç–µ–∫—Å—Ç –Ω–∞ –∫–æ–º–ø'—é—Ç–µ—Ä—ñ." },
                            { num: 33, name: "–ú–æ—Ö√©–∫ (◊û◊ï◊ó◊ß)", title: "–°—Ç–∏—Ä–∞–Ω–Ω—è", desc: "–í–∏–¥–∞–ª–µ–Ω–Ω—è –Ω–∞–ø–∏—Å–∞–Ω–æ–≥–æ –¥–ª—è –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –Ω–∞–ø–∏—Å–∞—Ç–∏ –∑–Ω–æ–≤—É. –ó–∞–±–æ—Ä–æ–Ω–µ–Ω–æ —Å—Ç–∏—Ä–∞—Ç–∏ –Ω–∞–ø–∏—Å–∞–Ω–µ –∞–±–æ –≤–∏–¥–∞–ª—è—Ç–∏ —Ç–µ–∫—Å—Ç." },
                            { num: 34, name: "–ë–æ–Ω–µ (◊ë◊ï◊†◊î)", title: "–ë—É–¥—ñ–≤–Ω–∏—Ü—Ç–≤–æ", desc: "–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∞–±–æ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏: –±—É–¥—ñ–≤–Ω–∏—Ü—Ç–≤–æ, —Ä–µ–º–æ–Ω—Ç, –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è. –ó–∞–±–æ—Ä–æ–Ω–µ–Ω–æ –±—É–¥—É–≤–∞—Ç–∏, —Ä–µ–º–æ–Ω—Ç—É–≤–∞—Ç–∏, –≤—ñ–¥–∫—Ä–∏–≤–∞—Ç–∏ –ø–∞—Ä–∞—Å–æ–ª—å–∫—É, –∑–±–∏—Ä–∞—Ç–∏ –º–µ–±–ª—ñ." },
                            { num: 35, name: "–°–æ—Ç√©—Ä (◊°◊ï◊™◊®)", title: "–†—É–π–Ω—É–≤–∞–Ω–Ω—è", desc: "–†—É–π–Ω—É–≤–∞–Ω–Ω—è –∑ –º–µ—Ç–æ—é –±—É–¥—ñ–≤–Ω–∏—Ü—Ç–≤–∞. –ó–∞–±–æ—Ä–æ–Ω–µ–Ω–æ —Ä—É–π–Ω—É–≤–∞—Ç–∏ –¥–ª—è –ø–æ–¥–∞–ª—å—à–æ–≥–æ –±—É–¥—ñ–≤–Ω–∏—Ü—Ç–≤–∞ –∞–±–æ —Ä–µ–º–æ–Ω—Ç—É." }
                        ]
                    },
                    {
                        name: "üî• –í–æ–≥–æ–Ω—å —Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è",
                        icon: "üî•",
                        melachot: [
                            { num: 36, name: "–ú–∞–≤—ñ—Ä (◊û◊ë◊¢◊ô◊®)", title: "–†–æ–∑–ø–∞–ª—é–≤–∞–Ω–Ω—è –≤–æ–≥–Ω—é", desc: "–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∞–±–æ –∑–±—ñ–ª—å—à–µ–Ω–Ω—è –≤–æ–≥–Ω—é: –∑–∞–ø–∞–ª—é–≤–∞–Ω–Ω—è —Å—ñ—Ä–Ω–∏–∫–∞, –≤–º–∏–∫–∞–Ω–Ω—è –µ–ª–µ–∫—Ç—Ä–∏–∫–∏, –∫—É—Ä—ñ–Ω–Ω—è. –ó–∞–±–æ—Ä–æ–Ω–µ–Ω–æ –≤–º–∏–∫–∞—Ç–∏ —Å–≤—ñ—Ç–ª–æ, –µ–ª–µ–∫—Ç—Ä–æ–ø—Ä–∏–ª–∞–¥–∏, –∑–∞–ø–∞–ª—é–≤–∞—Ç–∏ –≤–æ–≥–æ–Ω—å." },
                            { num: 37, name: "–ú–µ—Ö–∞–±√© (◊û◊õ◊ë◊î)", title: "–ì–∞—Å—ñ–Ω–Ω—è –≤–æ–≥–Ω—é", desc: "–ó–º–µ–Ω—à–µ–Ω–Ω—è –∞–±–æ –≥–∞—Å—ñ–Ω–Ω—è –≤–æ–≥–Ω—é: –≥–∞—Å—ñ–Ω–Ω—è —Å–≤—ñ—á–∫–∏, –≤–∏–º–∏–∫–∞–Ω–Ω—è –µ–ª–µ–∫—Ç—Ä–∏–∫–∏. –ó–∞–±–æ—Ä–æ–Ω–µ–Ω–æ –≤–∏–º–∏–∫–∞—Ç–∏ —Å–≤—ñ—Ç–ª–æ –∞–±–æ –µ–ª–µ–∫—Ç—Ä–æ–ø—Ä–∏–ª–∞–¥–∏." },
                            { num: 38, name: "–ú–∞–∫–µ –±–µ–ø–∞—Ç√≠—à (◊û◊õ◊î ◊ë◊§◊ò◊ô◊©)", title: "–ó–∞–≤–µ—Ä—à–∞–ª—å–Ω–∏–π —É–¥–∞—Ä", desc: "–ó–∞–≤–µ—Ä—à–µ–Ω–Ω—è –≤–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–µ–¥–º–µ—Ç–∞: –æ—Å—Ç–∞–Ω–Ω—ñ–π —à—Ç—Ä–∏—Ö, –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è. –ó–∞–±–æ—Ä–æ–Ω–µ–Ω–æ –∑–∞–≤–µ—Ä—à—É–≤–∞—Ç–∏ –≤–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—è –±—É–¥—å-—è–∫–æ–≥–æ –ø—Ä–µ–¥–º–µ—Ç–∞ –∞–±–æ –≤–Ω–æ—Å–∏—Ç–∏ —Ñ—ñ–Ω–∞–ª—å–Ω—ñ –∫–æ—Ä–µ–∫—Ç–∏–≤–∏." },
                            { num: 39, name: "–•–æ—Ü–∞√° (◊î◊ï◊¶◊ê◊î)", title: "–ü–µ—Ä–µ–Ω–µ—Å–µ–Ω–Ω—è", desc: "–ü–µ—Ä–µ–Ω–µ—Å–µ–Ω–Ω—è –ø—Ä–µ–¥–º–µ—Ç—ñ–≤ –∑ –ø—Ä–∏–≤–∞—Ç–Ω–æ—ó —Ç–µ—Ä–∏—Ç–æ—Ä—ñ—ó –≤ –≥—Ä–æ–º–∞–¥—Å—å–∫—É –∞–±–æ –Ω–∞–≤–ø–∞–∫–∏. –ó–∞–±–æ—Ä–æ–Ω–µ–Ω–æ –≤–∏–Ω–æ—Å–∏—Ç–∏ —Ä–µ—á—ñ –∑ –¥–æ–º—É –Ω–∞ –≤—É–ª–∏—Ü—é –∞–±–æ –Ω–∞–≤–ø–∞–∫–∏ (–±–µ–∑ –µ—Ä—É–≤–∞). –î–æ–∑–≤–æ–ª–µ–Ω–æ –Ω–æ—Å–∏—Ç–∏ –æ–¥—è–≥ —Ç–∞ –ø—Ä–∏–∫—Ä–∞—Å–∏." }
                        ]
                    }
                ]
            },
            en: {
                categories: [
                    {
                        name: "üåæ Bread Making",
                        icon: "üåæ",
                        melachot: [
                            { num: 1, name: "Choresh (◊ó◊ï◊®◊©)", title: "Plowing", desc: "Any work preparing the ground for planting: digging, loosening soil, removing stones. Also forbidden to sweep an earthen floor or drag furniture on soil if it creates furrows." },
                            { num: 2, name: "Zorea (◊ñ◊ï◊®◊¢)", title: "Sowing", desc: "Planting seeds or any action promoting plant growth: watering, fertilizing, transplanting. Forbidden to water plants or put flowers in water." },
                            { num: 3, name: "Kotzer (◊ß◊ï◊¶◊®)", title: "Reaping", desc: "Detaching a plant from its place of growth: picking fruits, cutting flowers, gathering mushrooms. Even picking fallen leaves from a tree is forbidden." },
                            { num: 4, name: "Me'amer (◊û◊¢◊û◊®)", title: "Gathering", desc: "Collecting scattered natural materials together: bundling sheaves, gathering fruits into a basket in the field. Forbidden to collect berries in one place." },
                            { num: 5, name: "Dash (◊ì◊©)", title: "Threshing", desc: "Separating edible part from inedible shell: shelling nuts, squeezing juice from fruits. Forbidden to squeeze juice from fruits (except lemon into food)." },
                            { num: 6, name: "Zoreh (◊ñ◊ï◊®◊î)", title: "Winnowing", desc: "Separating desired from undesired using wind: sifting grain. Forbidden to blow husks off food." },
                            { num: 7, name: "Borer (◊ë◊ï◊®◊®)", title: "Sorting", desc: "Separating undesired from desired. Permitted to select food from waste by hand immediately before eating. Forbidden to use a sieve or select waste from food." },
                            { num: 8, name: "Tochen (◊ò◊ï◊ó◊ü)", title: "Grinding", desc: "Breaking into small pieces: grinding grain, grating vegetables. Forbidden to cut vegetables very finely (except immediately before eating)." },
                            { num: 9, name: "Meraked (◊û◊®◊ß◊ì)", title: "Sifting", desc: "Separating coarse from fine particles using a sieve. Forbidden to sift flour or use any sieve." },
                            { num: 10, name: "Lash (◊ú◊©)", title: "Kneading", desc: "Mixing powdery substance with liquid to form dough. Forbidden to mix flour with water or make thick mixtures." },
                            { num: 11, name: "Ofeh (◊ê◊ï◊§◊î)", title: "Baking", desc: "Changing food state through heat: baking, cooking, frying. Forbidden to cook any food, including heating liquids to a temperature that causes hand to recoil." }
                        ]
                    },
                    {
                        name: "üëó Garment Making",
                        icon: "üëó",
                        melachot: [
                            { num: 12, name: "Gozez (◊í◊ï◊ñ◊ñ)", title: "Shearing", desc: "Removing hair, wool, or feathers from body: cutting hair, shaving, plucking eyebrows. Forbidden to cut nails or pull out hair." },
                            { num: 13, name: "Melaben (◊û◊ú◊ë◊ü)", title: "Bleaching", desc: "Cleaning and improving material appearance: laundering, stain removal, soaking. Forbidden to wash or soak clothing." },
                            { num: 14, name: "Menapetz (◊û◊†◊§◊•)", title: "Combing", desc: "Separating and straightening fibers: combing wool, untangling threads. Forbidden to comb natural hair wigs." },
                            { num: 15, name: "Tzovea (◊¶◊ï◊ë◊¢)", title: "Dyeing", desc: "Adding color to material: dyeing fabric, applying makeup. Forbidden to dye hair, apply makeup, or nail polish." },
                            { num: 16, name: "Toveh (◊ò◊ï◊ï◊î)", title: "Spinning", desc: "Twisting fibers into thread. Forbidden to twist fibers or make ropes." },
                            { num: 17, name: "Meisach (◊û◊ô◊°◊ö)", title: "Warping", desc: "Preparing warp threads on a loom. Forbidden to stretch threads for weaving." },
                            { num: 18, name: "Oseh Shtei Batei Nirin (◊¢◊ï◊©◊î ◊©◊™◊ô ◊ë◊™◊ô ◊†◊ô◊®◊ô◊ü)", title: "Making Loops", desc: "Creating loops for weaving. Forbidden to create loops or knots for weaving." },
                            { num: 19, name: "Oreg (◊ê◊ï◊®◊í)", title: "Weaving", desc: "Interlacing threads to create fabric: weaving, braiding, knitting. Forbidden to knit, braid, or do macram√©." },
                            { num: 20, name: "Potzea (◊§◊ï◊¶◊¢)", title: "Separating Threads", desc: "Separating woven threads. Forbidden to unravel knitting or separate threads." },
                            { num: 21, name: "Kosher (◊ß◊ï◊©◊®)", title: "Tying a Knot", desc: "Tying a permanent or semi-permanent knot. Forbidden to tie double knots or knots meant to last. Permitted to tie a bow." },
                            { num: 22, name: "Matir (◊û◊™◊ô◊®)", title: "Untying a Knot", desc: "Untying a permanent knot. Forbidden to untie knots that were tied to last." },
                            { num: 23, name: "Tofer (◊™◊ï◊§◊®)", title: "Sewing", desc: "Joining materials by sewing: sewing, stapling, gluing. Forbidden to sew, glue, or fasten materials together." },
                            { num: 24, name: "Korea (◊ß◊ï◊®◊¢)", title: "Tearing", desc: "Separating material: tearing fabric, paper. Forbidden to tear paper, open sealed packages (if it damages writing)." }
                        ]
                    },
                    {
                        name: "ü¶å Leather Processing",
                        icon: "ü¶å",
                        melachot: [
                            { num: 25, name: "Tzad (◊¶◊ì)", title: "Trapping", desc: "Catching or restricting freedom of a living creature: hunting, fishing, catching insects. Forbidden to catch animals or insects, confine them in a room." },
                            { num: 26, name: "Shochet (◊©◊ï◊ó◊ò)", title: "Slaughtering", desc: "Taking the life of a living creature. Forbidden to kill any living creature, including insects." },
                            { num: 27, name: "Mafshit (◊û◊§◊©◊ô◊ò)", title: "Skinning", desc: "Separating skin from animal body. Forbidden to remove skin from animal or fish." },
                            { num: 28, name: "Me'abed (◊û◊¢◊ë◊ì)", title: "Tanning", desc: "Processing skin for preservation: salting, tanning. Forbidden to process leather or apply preservatives." },
                            { num: 29, name: "Memachek (◊û◊û◊ó◊ß)", title: "Smoothing", desc: "Smoothing a surface: sanding leather, polishing. Forbidden to polish shoes or smooth surfaces." },
                            { num: 30, name: "Mesartet (◊û◊©◊®◊ò◊ò)", title: "Marking", desc: "Drawing lines for cutting or writing. Forbidden to mark lines on material." },
                            { num: 31, name: "Mechatech (◊û◊ó◊™◊ö)", title: "Cutting to Size", desc: "Cutting material to specific size or shape. Forbidden to cut paper, fabric, or other materials to shape." }
                        ]
                    },
                    {
                        name: "‚úçÔ∏è Writing & Building",
                        icon: "‚úçÔ∏è",
                        melachot: [
                            { num: 32, name: "Kotev (◊õ◊ï◊™◊ë)", title: "Writing", desc: "Making meaningful marks: writing, drawing, printing. Forbidden to write, draw, print, or type on computer." },
                            { num: 33, name: "Mochek (◊û◊ï◊ó◊ß)", title: "Erasing", desc: "Removing writing to enable writing again. Forbidden to erase writing or delete text." },
                            { num: 34, name: "Boneh (◊ë◊ï◊†◊î)", title: "Building", desc: "Creating or improving a structure: building, repairing, installing. Forbidden to build, repair, open umbrella, assemble furniture." },
                            { num: 35, name: "Soter (◊°◊ï◊™◊®)", title: "Demolishing", desc: "Destroying for purpose of building. Forbidden to destroy for subsequent building or repair." }
                        ]
                    },
                    {
                        name: "üî• Fire & Completion",
                        icon: "üî•",
                        melachot: [
                            { num: 36, name: "Mav'ir (◊û◊ë◊¢◊ô◊®)", title: "Kindling Fire", desc: "Creating or increasing fire: lighting match, turning on electricity, smoking. Forbidden to turn on lights, electrical appliances, light fire." },
                            { num: 37, name: "Mechabeh (◊û◊õ◊ë◊î)", title: "Extinguishing Fire", desc: "Reducing or extinguishing fire: putting out candle, turning off electricity. Forbidden to turn off lights or electrical appliances." },
                            { num: 38, name: "Makeh B'patish (◊û◊õ◊î ◊ë◊§◊ò◊ô◊©)", title: "Final Hammer Blow", desc: "Completing manufacture of an item: final touch, adjustment. Forbidden to complete manufacture of any item or make final adjustments." },
                            { num: 39, name: "Hotza'ah (◊î◊ï◊¶◊ê◊î)", title: "Carrying", desc: "Transferring objects from private to public domain or vice versa. Forbidden to carry items from home to street or vice versa (without eruv). Permitted to wear clothing and jewelry." }
                        ]
                    }
                ]
            }
        };

        const preparationData = {
            uk: [
                {
                    time: "–ü—Ä–æ—Ç—è–≥–æ–º —Ç–∏–∂–Ω—è",
                    title: "–ü–ª–∞–Ω—É–≤–∞–Ω–Ω—è —Ç–∞ –ø–æ–∫—É–ø–∫–∏",
                    items: [
                        "–°–ø–ª–∞–Ω—É–π—Ç–µ –º–µ–Ω—é –Ω–∞ –®–∞–±–±–∞—Ç (—Ç—Ä–∏ —Ç—Ä–∞–ø–µ–∑–∏)",
                        "–°–∫–ª–∞–¥—ñ—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ–∫—É–ø–æ–∫",
                        "–ö—É–ø—ñ—Ç—å –ø—Ä–æ–¥—É–∫—Ç–∏ –¥–ª—è —Å–≤—è—Ç–∫–æ–≤–∏—Ö —Å—Ç—Ä–∞–≤",
                        "–ü—Ä–∏–¥–±–∞–π—Ç–µ —Å–≤—ñ—á–∫–∏ –¥–ª—è –®–∞–±–±–∞—Ç—É",
                        "–ö—É–ø—ñ—Ç—å –≤–∏–Ω–æ –¥–ª—è –ö—ñ–¥—É—à—É —Ç–∞ —Ö–∞–ª—É"
                    ]
                },
                {
                    time: "–ß–µ—Ç–≤–µ—Ä",
                    title: "–ü–æ—á–∞—Ç–æ–∫ –ø—Ä–∏–≥–æ—Ç—É–≤–∞–Ω—å",
                    items: [
                        "–ü–æ—á–Ω—ñ—Ç—å –≥–æ—Ç—É–≤–∞—Ç–∏ —Å—Ç—Ä–∞–≤–∏, —â–æ –ø–æ—Ç—Ä–µ–±—É—é—Ç—å —á–∞—Å—É",
                        "–ü—Ä–∏–±–µ—Ä—ñ—Ç—å —É –¥–æ–º—ñ",
                        "–ü—ñ–¥–≥–æ—Ç—É–π—Ç–µ —Å–≤—è—Ç–∫–æ–≤–∏–π –æ–¥—è–≥",
                        "–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∑–∞–ø–∞—Å–∏ —Å–≤—ñ—á–æ–∫ —Ç–∞ —Å—ñ—Ä–Ω–∏–∫—ñ–≤"
                    ]
                },
                {
                    time: "–ü'—è—Ç–Ω–∏—Ü—è –≤—Ä–∞–Ω—Ü—ñ",
                    title: "–ê–∫—Ç–∏–≤–Ω–∞ –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∞",
                    items: [
                        "–ó–∞–≤–µ—Ä—à—ñ—Ç—å –ø—Ä–∏–±–∏—Ä–∞–Ω–Ω—è",
                        "–ü—Ä–∏–≥–æ—Ç—É–π—Ç–µ –æ—Å–Ω–æ–≤–Ω—ñ —Å—Ç—Ä–∞–≤–∏",
                        "–ù–∞–∫—Ä–∏–π—Ç–µ —Å–≤—è—Ç–∫–æ–≤–∏–π —Å—Ç—ñ–ª",
                        "–ü—ñ–¥–≥–æ—Ç—É–π—Ç–µ —Ö–∞–ª—É (–∞–±–æ –∫—É–ø—ñ—Ç—å)",
                        "–ü–æ—Å—Ç–∞–≤—Ç–µ –∫–≤—ñ—Ç–∏ –Ω–∞ —Å—Ç—ñ–ª"
                    ]
                },
                {
                    time: "–ü'—è—Ç–Ω–∏—Ü—è –ø—ñ—Å–ª—è –æ–±—ñ–¥—É",
                    title: "–§—ñ–Ω–∞–ª—å–Ω—ñ –ø—Ä–∏–≥–æ—Ç—É–≤–∞–Ω–Ω—è",
                    items: [
                        "–ü—Ä–∏–π–º—ñ—Ç—å –¥—É—à —Ç–∞ –æ–¥—è–≥–Ω—ñ—Ç—å —Å–≤—è—Ç–∫–æ–≤–∏–π –æ–¥—è–≥",
                        "–ü–æ—Å—Ç–∞–≤—Ç–µ —ó–∂—É –Ω–∞ –ø–ª–∞—Ç—É (—è–∫—â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ)",
                        "–í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å —Ç–∞–π–º–µ—Ä–∏ –Ω–∞ —Å–≤—ñ—Ç–ª–æ",
                        "–í–∏–º–∫–Ω—ñ—Ç—å –Ω–µ–ø–æ—Ç—Ä—ñ–±–Ω—ñ –µ–ª–µ–∫—Ç—Ä–æ–ø—Ä–∏–ª–∞–¥–∏",
                        "–ü—ñ–¥–≥–æ—Ç—É–π—Ç–µ —Å–≤—ñ—á–∫–∏ –¥–æ –∑–∞–ø–∞–ª—é–≤–∞–Ω–Ω—è"
                    ]
                },
                {
                    time: "18 —Ö–≤–∏–ª–∏–Ω –¥–æ –∑–∞—Ö–æ–¥—É —Å–æ–Ω—Ü—è",
                    title: "–ó–∞–ø–∞–ª—é–≤–∞–Ω–Ω—è —Å–≤—ñ—á–æ–∫",
                    items: [
                        "–ü–æ–∫–ª–∞–¥—ñ—Ç—å –≥—Ä–æ—à—ñ –≤ —Ü–¥–∞–∫—É",
                        "–ó–∞–ø–∞–ª—ñ—Ç—å —Å–≤—ñ—á–∫–∏ –®–∞–±–±–∞—Ç—É",
                        "–ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ –±–ª–∞–≥–æ—Å–ª–æ–≤–µ–Ω–Ω—è",
                        "–ü–æ–º–æ–ª—ñ—Ç—å—Å—è –∑–∞ —Å—ñ–º'—é",
                        "–®–∞–±–±–∞—Ç –ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è!"
                    ]
                }
            ],
            en: [
                {
                    time: "During the week",
                    title: "Planning & Shopping",
                    items: [
                        "Plan Shabbat menu (three meals)",
                        "Make shopping list",
                        "Buy ingredients for festive dishes",
                        "Purchase Shabbat candles",
                        "Buy wine for Kiddush and challah"
                    ]
                },
                {
                    time: "Thursday",
                    title: "Begin Preparations",
                    items: [
                        "Start cooking time-consuming dishes",
                        "Clean the house",
                        "Prepare festive clothing",
                        "Check candle and match supplies"
                    ]
                },
                {
                    time: "Friday morning",
                    title: "Active Preparation",
                    items: [
                        "Complete cleaning",
                        "Cook main dishes",
                        "Set the festive table",
                        "Prepare challah (or buy)",
                        "Place flowers on table"
                    ]
                },
                {
                    time: "Friday afternoon",
                    title: "Final Preparations",
                    items: [
                        "Shower and dress in festive clothes",
                        "Place food on warming plate (if using)",
                        "Set light timers",
                        "Turn off unnecessary appliances",
                        "Prepare candles for lighting"
                    ]
                },
                {
                    time: "18 minutes before sunset",
                    title: "Candle Lighting",
                    items: [
                        "Give tzedakah (charity)",
                        "Light Shabbat candles",
                        "Recite the blessing",
                        "Pray for family",
                        "Shabbat begins!"
                    ]
                }
            ]
        };

        const checklistData = {
            uk: [
                "–ö—É–ø–∏—Ç–∏ —Ö–∞–ª—É",
                "–ö—É–ø–∏—Ç–∏ –≤–∏–Ω–æ –¥–ª—è –ö—ñ–¥—É—à—É",
                "–ö—É–ø–∏—Ç–∏ —Å–≤—ñ—á–∫–∏",
                "–ü—Ä–∏–≥–æ—Ç—É–≤–∞—Ç–∏ —Ä–∏–±—É (–≥–µ—Ñ—ñ–ª—Ç–µ —Ñ—ñ—à)",
                "–ü—Ä–∏–≥–æ—Ç—É–≤–∞—Ç–∏ –∫—É—Ä—è—á–∏–π —Å—É–ø",
                "–ü—Ä–∏–≥–æ—Ç—É–≤–∞—Ç–∏ –æ—Å–Ω–æ–≤–Ω—É —Å—Ç—Ä–∞–≤—É",
                "–ü—Ä–∏–≥–æ—Ç—É–≤–∞—Ç–∏ —Å–∞–ª–∞—Ç–∏",
                "–ü—Ä–∏–≥–æ—Ç—É–≤–∞—Ç–∏ –¥–µ—Å–µ—Ä—Ç",
                "–ü—Ä–∏–±—Ä–∞—Ç–∏ –≤ –¥–æ–º—ñ",
                "–ù–∞–∫—Ä–∏—Ç–∏ —Å–≤—è—Ç–∫–æ–≤–∏–π —Å—Ç—ñ–ª",
                "–ü—ñ–¥–≥–æ—Ç—É–≤–∞—Ç–∏ —Å–≤—è—Ç–∫–æ–≤–∏–π –æ–¥—è–≥",
                "–í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ —Ç–∞–π–º–µ—Ä–∏",
                "–ü—ñ–¥–≥–æ—Ç—É–≤–∞—Ç–∏ –ø–ª–∞—Ç—É –¥–ª—è —ó–∂—ñ",
                "–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ç—É–∞–ª–µ—Ç–Ω–∏–π –ø–∞–ø—ñ—Ä",
                "–í–∏–º–∫–Ω—É—Ç–∏ —Ç–µ–ª–µ—Ñ–æ–Ω",
                "–ó–∞–ø–∞–ª–∏—Ç–∏ —Å–≤—ñ—á–∫–∏"
            ],
            en: [
                "Buy challah",
                "Buy wine for Kiddush",
                "Buy candles",
                "Prepare fish (gefilte fish)",
                "Prepare chicken soup",
                "Prepare main dish",
                "Prepare salads",
                "Prepare dessert",
                "Clean the house",
                "Set the festive table",
                "Prepare festive clothing",
                "Set timers",
                "Prepare food warming plate",
                "Check toilet paper",
                "Turn off phone",
                "Light candles"
            ]
        };

        // ==================== STATE MANAGEMENT ====================
        let state = {
            language: 'uk',
            visits: [],
            streak: 0,
            maxStreak: 0,
            points: 0,
            stars: 0,
            checklist: {},
            lastVisit: null,
            shabbatLocation: { city: '–ö–∏—ó–≤', country: 'UA' }
        };

        function loadState() {
            const saved = localStorage.getItem('shabbatAppState');
            if (saved) {
                state = { ...state, ...JSON.parse(saved) };
            }
            updateVisitStreak();
        }

        function saveState() {
            localStorage.setItem('shabbatAppState', JSON.stringify(state));
        }

        function updateVisitStreak() {
            const today = new Date().toDateString();
            const yesterday = new Date(Date.now() - 86400000).toDateString();

            if (state.lastVisit !== today) {
                // New day visit
                state.stars++;
                state.points += 10;

                if (state.lastVisit === yesterday) {
                    state.streak++;
                    // Bonus points for streaks
                    if (state.streak === 7) {
                        state.points += 50;
                        showAchievement('üî•', state.language === 'uk' ? '7 –¥–Ω—ñ–≤ –ø–æ—Å–ø—ñ–ª—å!' : '7 days streak!', state.language === 'uk' ? '+50 –±–æ–Ω—É—Å–Ω–∏—Ö –±–∞–ª—ñ–≤!' : '+50 bonus points!');
                    } else if (state.streak === 30) {
                        state.points += 300;
                        showAchievement('üèÜ', state.language === 'uk' ? '30 –¥–Ω—ñ–≤ –ø–æ—Å–ø—ñ–ª—å!' : '30 days streak!', state.language === 'uk' ? '+300 –±–æ–Ω—É—Å–Ω–∏—Ö –±–∞–ª—ñ–≤!' : '+300 bonus points!');
                    }
                } else if (state.lastVisit !== null) {
                    state.streak = 1;
                } else {
                    state.streak = 1;
                }

                if (state.streak > state.maxStreak) {
                    state.maxStreak = state.streak;
                }

                if (!state.visits.includes(today)) {
                    state.visits.push(today);
                }

                state.lastVisit = today;
                saveState();
            }
        }

        // ==================== UI FUNCTIONS ====================
        function createStars() {
            const container = document.getElementById('starsBg');
            for (let i = 0; i < 100; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.width = Math.random() * 3 + 1 + 'px';
                star.style.height = star.style.width;
                star.style.animationDelay = Math.random() * 2 + 's';
                container.appendChild(star);
            }
        }

        function updateLanguage(lang) {
            state.language = lang;
            saveState();

            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.toggle('active', btn.dataset.lang === lang);
            });

            document.querySelectorAll('[data-' + lang + ']').forEach(el => {
                el.textContent = el.dataset[lang];
            });

            document.querySelectorAll('[data-' + lang + '-placeholder]').forEach(el => {
                el.placeholder = el.dataset[lang + 'Placeholder'];
            });

            renderMelachot();
            renderPreparation();
            renderChecklist();
        }

        function switchSection(sectionId) {
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
            
            document.getElementById(sectionId).classList.add('active');
            document.querySelector(`[data-section="${sectionId}"]`).classList.add('active');
        }

        function renderMelachot() {
            const grid = document.getElementById('melachotGrid');
            const data = melachotData[state.language];
            
            grid.innerHTML = data.categories.map(cat => `
                <div class="melacha-category">
                    <h3>${cat.name}</h3>
                    ${cat.melachot.map(m => `
                        <div class="melacha-item" onclick="toggleMelacha(this)">
                            <h4>
                                <span>${m.name} - ${m.title}</span>
                                <span class="number">${m.num}</span>
                            </h4>
                            <p>${m.desc}</p>
                        </div>
                    `).join('')}
                </div>
            `).join('');
        }

        function toggleMelacha(el) {
            el.classList.toggle('expanded');
        }

        function renderPreparation() {
            const timeline = document.getElementById('preparationTimeline');
            const data = preparationData[state.language];
            
            timeline.innerHTML = data.map(item => `
                <div class="prep-item">
                    <span class="time-badge">${item.time}</span>
                    <h3>${item.title}</h3>
                    <ul>
                        ${item.items.map(i => `<li>${i}</li>`).join('')}
                    </ul>
                </div>
            `).join('');
        }

        function renderChecklist() {
            const container = document.getElementById('checklistContainer');
            const data = checklistData[state.language];
            
            container.innerHTML = data.map((item, index) => `
                <div class="checklist-item ${state.checklist[index] ? 'checked' : ''}" onclick="toggleChecklist(${index})">
                    <div class="checkbox"></div>
                    <span>${item}</span>
                </div>
            `).join('');
        }

        function toggleChecklist(index) {
            state.checklist[index] = !state.checklist[index];
            saveState();
            renderChecklist();
        }

        function updateStats() {
            document.getElementById('totalStars').textContent = state.stars;
            document.getElementById('streakCount').textContent = state.streak;
            document.getElementById('totalPoints').textContent = state.points;
            document.getElementById('starsCount').textContent = state.stars;
            document.getElementById('currentStreak').textContent = state.streak;
            document.getElementById('maxStreak').textContent = state.maxStreak;
            document.getElementById('pointsDisplay').textContent = state.points;
            
            document.getElementById('starsProgress').style.width = Math.min(state.stars / 30 * 100, 100) + '%';
            document.getElementById('streakProgress').style.width = Math.min(state.streak / 30 * 100, 100) + '%';
            
            renderCalendar();
        }

        function renderCalendar() {
            const calendar = document.getElementById('streakCalendar');
            const today = new Date();
            const days = [];
            
            for (let i = 27; i >= 0; i--) {
                const date = new Date(today);
                date.setDate(date.getDate() - i);
                const dateStr = date.toDateString();
                const isVisited = state.visits.includes(dateStr);
                const isToday = dateStr === today.toDateString();
                
                days.push(`
                    <div class="calendar-day ${isVisited ? 'visited' : ''} ${isToday ? 'today' : ''}">
                        ${date.getDate()}
                    </div>
                `);
            }
            
            calendar.innerHTML = days.join('');
        }

        function showAchievement(icon, title, text) {
            const popup = document.getElementById('achievementPopup');
            document.getElementById('achievementIcon').textContent = icon;
            document.getElementById('achievementTitle').textContent = title;
            document.getElementById('achievementText').textContent = text;
            
            popup.classList.add('show');
            setTimeout(() => popup.classList.remove('show'), 3000);
        }

        // ==================== SHABBAT TIMES CALCULATION ====================
        function calculateShabbatTimes() {
            const city = document.getElementById('cityInput').value || '–ö–∏—ó–≤';
            const country = document.getElementById('countrySelect').value;
            
            state.shabbatLocation = { city, country };
            saveState();

            // Get coordinates for the city (simplified - using approximate coordinates)
            const coordinates = getCityCoordinates(city, country);
            
            // Calculate Shabbat times
            const times = getShabbatTimesForLocation(coordinates.lat, coordinates.lng);
            
            displayShabbatTimes(times);
            startCountdown(times.candleLighting);
        }

        function getCityCoordinates(city, country) {
            // Simplified coordinate lookup
            const cities = {
                'UA': { '–ö–∏—ó–≤': { lat: 50.45, lng: 30.52 }, '–û–¥–µ—Å–∞': { lat: 46.48, lng: 30.73 }, '–õ—å–≤—ñ–≤': { lat: 49.84, lng: 24.03 }, '–•–∞—Ä–∫—ñ–≤': { lat: 49.99, lng: 36.23 }, '–î–Ω—ñ–ø—Ä–æ': { lat: 48.46, lng: 35.04 } },
                'IL': { '–Ñ—Ä—É—Å–∞–ª–∏–º': { lat: 31.77, lng: 35.22 }, '–¢–µ–ª—å-–ê–≤—ñ–≤': { lat: 32.08, lng: 34.78 }, 'Jerusalem': { lat: 31.77, lng: 35.22 }, 'Tel Aviv': { lat: 32.08, lng: 34.78 } },
                'US': { 'New York': { lat: 40.71, lng: -74.01 }, 'Los Angeles': { lat: 34.05, lng: -118.24 }, 'Chicago': { lat: 41.88, lng: -87.63 } },
                'GB': { 'London': { lat: 51.51, lng: -0.13 }, 'Manchester': { lat: 53.48, lng: -2.24 } },
                'DE': { 'Berlin': { lat: 52.52, lng: 13.41 }, 'Munich': { lat: 48.14, lng: 11.58 } },
                'FR': { 'Paris': { lat: 48.86, lng: 2.35 }, 'Marseille': { lat: 43.30, lng: 5.37 } },
                'CA': { 'Toronto': { lat: 43.65, lng: -79.38 }, 'Montreal': { lat: 45.50, lng: -73.57 } }
            };

            const countryData = cities[country] || cities['UA'];
            return countryData[city] || countryData[Object.keys(countryData)[0]] || { lat: 50.45, lng: 30.52 };
        }

        function getShabbatTimesForLocation(lat, lng) {
            const now = new Date();
            const friday = getNextFriday(now);
            const saturday = new Date(friday);
            saturday.setDate(saturday.getDate() + 1);

            // Calculate sunset for Friday
            const sunsetFriday = calculateSunset(friday, lat, lng);
            
            // Candle lighting is 18 minutes before sunset
            const candleLighting = new Date(sunsetFriday.getTime() - 18 * 60000);
            
            // Calculate sunset for Saturday
            const sunsetSaturday = calculateSunset(saturday, lat, lng);
            
            // Nightfall (3 stars) is approximately 42 minutes after sunset
            const havdalah = new Date(sunsetSaturday.getTime() + 42 * 60000);

            return {
                candleLighting,
                sunsetFriday,
                sunsetSaturday,
                havdalah
            };
        }

        function getNextFriday(date) {
            const result = new Date(date);
            const day = result.getDay();
            const daysUntilFriday = (5 - day + 7) % 7;
            
            if (daysUntilFriday === 0 && result.getHours() >= 12) {
                result.setDate(result.getDate() + 7);
            } else if (daysUntilFriday === 0) {
                // It's Friday, keep it
            } else {
                result.setDate(result.getDate() + daysUntilFriday);
            }
            
            return result;
        }

        function calculateSunset(date, lat, lng) {
            // Simplified sunset calculation
            const dayOfYear = getDayOfYear(date);
            
            // Calculate solar declination
            const declination = 23.45 * Math.sin(2 * Math.PI * (284 + dayOfYear) / 365);
            
            // Calculate hour angle
            const latRad = lat * Math.PI / 180;
            const decRad = declination * Math.PI / 180;
            
            const hourAngle = Math.acos(-Math.tan(latRad) * Math.tan(decRad)) * 180 / Math.PI;
            
            // Calculate sunset time (in hours from noon)
            const sunsetHour = 12 + hourAngle / 15;
            
            // Adjust for longitude (simplified)
            const timeZoneOffset = Math.round(lng / 15);
            const localSunset = sunsetHour - (lng / 15 - timeZoneOffset);
            
            const result = new Date(date);
            result.setHours(Math.floor(localSunset), Math.round((localSunset % 1) * 60), 0, 0);
            
            return result;
        }

        function getDayOfYear(date) {
            const start = new Date(date.getFullYear(), 0, 0);
            const diff = date - start;
            return Math.floor(diff / (1000 * 60 * 60 * 24));
        }

        function displayShabbatTimes(times) {
            const formatTime = (date) => date.toLocaleTimeString(state.language === 'uk' ? 'uk-UA' : 'en-US', { hour: '2-digit', minute: '2-digit' });
            const formatDate = (date) => date.toLocaleDateString(state.language === 'uk' ? 'uk-UA' : 'en-US', { weekday: 'long', day: 'numeric', month: 'long' });

            document.getElementById('candleLighting').textContent = formatTime(times.candleLighting);
            document.getElementById('candleDate').textContent = formatDate(times.candleLighting);
            
            document.getElementById('sunset').textContent = formatTime(times.sunsetFriday);
            document.getElementById('sunsetDate').textContent = formatDate(times.sunsetFriday);
            
            document.getElementById('havdalah').textContent = formatTime(times.sunsetSaturday);
            document.getElementById('havdalahDate').textContent = formatDate(times.sunsetSaturday);
            
            document.getElementById('havdalahEnd').textContent = formatTime(times.havdalah);
            document.getElementById('havdalahEndDate').textContent = formatDate(times.havdalah);
        }

        let countdownInterval;

        function startCountdown(targetDate) {
            if (countdownInterval) clearInterval(countdownInterval);
            
            const updateCountdown = () => {
                const now = new Date();
                let diff = targetDate - now;
                
                const isShabbat = diff < 0;
                
                if (isShabbat) {
                    document.getElementById('countdownTitle').textContent = state.language === 'uk' ? '–®–∞–±–±–∞—Ç –®–∞–ª–æ–º! üïØÔ∏è' : 'Shabbat Shalom! üïØÔ∏è';
                    document.getElementById('countDays').textContent = 'üïØÔ∏è';
                    document.getElementById('countHours').textContent = '◊©◊ë◊™';
                    document.getElementById('countMinutes').textContent = '◊©◊ú◊ï◊ù';
                    document.getElementById('countSeconds').textContent = 'üïØÔ∏è';
                    return;
                }
                
                const days = Math.floor(diff / (1000 * 60 * 60 * 24));
                const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((diff % (1000 * 60)) / 1000);
                
                document.getElementById('countDays').textContent = days;
                document.getElementById('countHours').textContent = hours;
                document.getElementById('countMinutes').textContent = minutes;
                document.getElementById('countSeconds').textContent = seconds;
            };
            
            updateCountdown();
            countdownInterval = setInterval(updateCountdown, 1000);
        }

        function closeModal() {
            document.getElementById('modal').classList.remove('active');
        }

        // ==================== INITIALIZATION ====================
        document.addEventListener('DOMContentLoaded', () => {
            loadState();
            createStars();
            
            // Set up language switcher
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.addEventListener('click', () => updateLanguage(btn.dataset.lang));
            });
            
            // Set up navigation
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.addEventListener('click', () => switchSection(tab.dataset.section));
            });
            
            // Initialize UI
            updateLanguage(state.language);
            updateStats();
            
            // Set saved location
            if (state.shabbatLocation) {
                document.getElementById('cityInput').value = state.shabbatLocation.city;
                document.getElementById('countrySelect').value = state.shabbatLocation.country;
            }
            
            // Calculate initial Shabbat times
            calculateShabbatTimes();
            
            // Close modal on outside click
            document.getElementById('modal').addEventListener('click', (e) => {
                if (e.target.id === 'modal') closeModal();
            });
        });
    </script>
</body>
</html>
