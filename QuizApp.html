<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Quiz App</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --secondary: #ec4899;
            --success: #22c55e;
            --error: #ef4444;
            --warning: #f59e0b;
            --bg-dark: #0f172a;
            --bg-card: #1e293b;
            --text-primary: #f8fafc;
            --text-secondary: #94a3b8;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--bg-dark);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            overflow-x: hidden;
        }

        .background-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }

        .bg-circle {
            position: absolute;
            border-radius: 50%;
            filter: blur(80px);
            opacity: 0.3;
            animation: float 20s infinite ease-in-out;
        }

        .bg-circle:nth-child(1) {
            width: 400px;
            height: 400px;
            background: var(--primary);
            top: -100px;
            left: -100px;
            animation-delay: 0s;
        }

        .bg-circle:nth-child(2) {
            width: 300px;
            height: 300px;
            background: var(--secondary);
            bottom: -50px;
            right: -50px;
            animation-delay: -5s;
        }

        .bg-circle:nth-child(3) {
            width: 250px;
            height: 250px;
            background: #06b6d4;
            top: 50%;
            left: 50%;
            animation-delay: -10s;
        }

        @keyframes float {
            0%, 100% { transform: translate(0, 0) scale(1); }
            25% { transform: translate(50px, -50px) scale(1.1); }
            50% { transform: translate(-30px, 30px) scale(0.9); }
            75% { transform: translate(-50px, -30px) scale(1.05); }
        }

        .app-container {
            width: 100%;
            max-width: 800px;
            min-height: 500px;
        }

        .card {
            background: var(--bg-card);
            border-radius: 24px;
            padding: 40px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.1);
            animation: slideUp 0.5s ease;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Start Screen */
        .start-screen {
            text-align: center;
        }

        .logo {
            font-size: 64px;
            margin-bottom: 20px;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        h1 {
            color: var(--text-primary);
            font-size: 2.5rem;
            margin-bottom: 10px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            color: var(--text-secondary);
            font-size: 1.1rem;
            margin-bottom: 30px;
        }

        .stats-preview {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-bottom: 30px;
        }

        .stat-item {
            background: rgba(99, 102, 241, 0.1);
            padding: 15px;
            border-radius: 12px;
            border: 1px solid rgba(99, 102, 241, 0.2);
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--primary);
        }

        .stat-label {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .btn {
            padding: 16px 40px;
            font-size: 1.1rem;
            font-weight: 600;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            box-shadow: 0 4px 15px rgba(99, 102, 241, 0.4);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(99, 102, 241, 0.6);
        }

        .btn-secondary {
            background: transparent;
            color: var(--text-primary);
            border: 2px solid var(--primary);
        }

        .btn-secondary:hover {
            background: var(--primary);
        }

        .btn-random {
            background: linear-gradient(135deg, #f59e0b, #ef4444);
            color: white;
            box-shadow: 0 4px 15px rgba(245, 158, 11, 0.4);
        }

        .btn-random:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(245, 158, 11, 0.6);
        }

        .start-buttons {
            display: flex;
            flex-direction: column;
            gap: 15px;
            align-items: center;
        }

        /* Quiz Selection Screen */
        .select-screen {
            display: none;
        }

        .select-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .select-header h2 {
            color: var(--text-primary);
            font-size: 1.8rem;
            margin-bottom: 10px;
        }

        .select-header p {
            color: var(--text-secondary);
        }

        .quiz-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            max-height: 400px;
            overflow-y: auto;
            padding: 5px;
            margin-bottom: 20px;
        }

        .quiz-card {
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .quiz-card:hover {
            background: rgba(99, 102, 241, 0.1);
            border-color: var(--primary);
            transform: translateY(-3px);
        }

        .quiz-card.selected {
            background: rgba(99, 102, 241, 0.2);
            border-color: var(--primary);
        }

        .quiz-card-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .quiz-card-title {
            color: var(--text-primary);
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .quiz-card-count {
            color: var(--text-secondary);
            font-size: 0.85rem;
        }

        .quiz-card-best {
            margin-top: 8px;
            padding: 4px 10px;
            background: rgba(34, 197, 94, 0.2);
            border-radius: 10px;
            font-size: 0.75rem;
            color: var(--success);
            display: inline-block;
        }

        .select-footer {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }

        /* Quiz Screen */
        .quiz-screen {
            display: none;
        }

        .quiz-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .quiz-title-bar {
            width: 100%;
            text-align: center;
            margin-bottom: 10px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .quiz-title-bar h3 {
            color: var(--text-primary);
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .progress-container {
            flex: 1;
            min-width: 200px;
        }

        .progress-text {
            display: flex;
            justify-content: space-between;
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-bottom: 8px;
        }

        .progress-bar {
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            border-radius: 4px;
            transition: width 0.5s ease;
        }

        .timer-container {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
        }

        .timer-icon {
            font-size: 1.5rem;
        }

        .timer-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--text-primary);
            min-width: 45px;
        }

        .timer-value.warning {
            color: var(--warning);
            animation: pulse 0.5s infinite;
        }

        .timer-value.danger {
            color: var(--error);
            animation: pulse 0.3s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .timer-ring {
            width: 50px;
            height: 50px;
            position: relative;
        }

        .timer-ring svg {
            transform: rotate(-90deg);
        }

        .timer-ring circle {
            fill: none;
            stroke-width: 4;
        }

        .timer-ring .bg {
            stroke: rgba(255, 255, 255, 0.1);
        }

        .timer-ring .progress {
            stroke: var(--primary);
            stroke-linecap: round;
            transition: stroke-dashoffset 1s linear, stroke 0.3s ease;
        }

        .score-display {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 20px;
            background: linear-gradient(135deg, rgba(34, 197, 94, 0.2), rgba(34, 197, 94, 0.1));
            border-radius: 12px;
            border: 1px solid rgba(34, 197, 94, 0.3);
        }

        .score-display span {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--success);
        }

        .question-container {
            margin-bottom: 30px;
        }

        .question-number {
            display: inline-block;
            padding: 8px 16px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 20px;
            color: white;
            font-size: 0.85rem;
            font-weight: 600;
            margin-bottom: 15px;
        }

        .question-text {
            font-size: 1.4rem;
            color: var(--text-primary);
            line-height: 1.6;
            margin-bottom: 10px;
        }

        .question-category {
            color: var(--text-secondary);
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .options-container {
            display: grid;
            gap: 12px;
        }

        .option {
            padding: 18px 24px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .option:hover:not(.disabled) {
            background: rgba(99, 102, 241, 0.1);
            border-color: var(--primary);
            transform: translateX(5px);
        }

        .option.selected {
            background: rgba(99, 102, 241, 0.2);
            border-color: var(--primary);
        }

        .option.correct {
            background: rgba(34, 197, 94, 0.2);
            border-color: var(--success);
        }

        .option.incorrect {
            background: rgba(239, 68, 68, 0.2);
            border-color: var(--error);
        }

        .option.disabled {
            cursor: default;
            opacity: 0.7;
        }

        .option-letter {
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            font-weight: bold;
            color: var(--text-primary);
            flex-shrink: 0;
        }

        .option.selected .option-letter {
            background: var(--primary);
        }

        .option.correct .option-letter {
            background: var(--success);
        }

        .option.incorrect .option-letter {
            background: var(--error);
        }

        .option-text {
            color: var(--text-primary);
            font-size: 1.05rem;
            flex: 1;
        }

        .option-icon {
            font-size: 1.3rem;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .option.correct .option-icon,
        .option.incorrect .option-icon {
            opacity: 1;
        }

        .quiz-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 25px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .feedback {
            padding: 12px 20px;
            border-radius: 10px;
            font-weight: 500;
            display: none;
            align-items: center;
            gap: 10px;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }

        .feedback.correct {
            display: flex;
            background: rgba(34, 197, 94, 0.2);
            color: var(--success);
            border: 1px solid var(--success);
        }

        .feedback.incorrect {
            display: flex;
            background: rgba(239, 68, 68, 0.2);
            color: var(--error);
            border: 1px solid var(--error);
        }

        .feedback.timeout {
            display: flex;
            background: rgba(245, 158, 11, 0.2);
            color: var(--warning);
            border: 1px solid var(--warning);
        }

        .btn-next {
            padding: 14px 30px;
            margin-left: auto;
        }

        /* Results Screen */
        .results-screen {
            display: none;
            text-align: center;
        }

        .results-icon {
            font-size: 80px;
            margin-bottom: 20px;
            animation: bounceIn 0.6s ease;
        }

        @keyframes bounceIn {
            0% { transform: scale(0); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        .results-title {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .results-subtitle {
            color: var(--text-secondary);
            margin-bottom: 30px;
        }

        .results-quiz-name {
            display: inline-block;
            padding: 8px 20px;
            background: rgba(99, 102, 241, 0.2);
            border-radius: 20px;
            color: var(--primary);
            font-size: 0.9rem;
            margin-bottom: 20px;
        }

        .score-circle {
            width: 180px;
            height: 180px;
            margin: 0 auto 30px;
            position: relative;
        }

        .score-circle svg {
            transform: rotate(-90deg);
        }

        .score-circle circle {
            fill: none;
            stroke-width: 12;
        }

        .score-circle .bg {
            stroke: rgba(255, 255, 255, 0.1);
        }

        .score-circle .progress {
            stroke: var(--success);
            stroke-linecap: round;
            transition: stroke-dashoffset 1.5s ease;
        }

        .score-circle .score-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
        }

        .score-percentage {
            font-size: 2.5rem;
            font-weight: bold;
            color: var(--text-primary);
        }

        .score-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .results-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 30px;
        }

        .result-stat {
            padding: 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 14px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .result-stat-icon {
            font-size: 1.5rem;
            margin-bottom: 8px;
        }

        .result-stat-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--text-primary);
        }

        .result-stat-label {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .results-breakdown {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 14px;
            padding: 20px;
            margin-bottom: 25px;
            text-align: left;
        }

        .breakdown-title {
            color: var(--text-primary);
            font-size: 1.1rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .breakdown-list {
            max-height: 200px;
            overflow-y: auto;
        }

        .breakdown-item {
            display: flex;
            align-items: center;
            padding: 12px;
            margin-bottom: 8px;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 10px;
            gap: 12px;
        }

        .breakdown-item.correct {
            border-left: 3px solid var(--success);
        }

        .breakdown-item.incorrect {
            border-left: 3px solid var(--error);
        }

        .breakdown-item.timeout {
            border-left: 3px solid var(--warning);
        }

        .breakdown-number {
            width: 28px;
            height: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            font-size: 0.85rem;
            font-weight: bold;
            color: var(--text-primary);
        }

        .breakdown-question {
            flex: 1;
            color: var(--text-secondary);
            font-size: 0.9rem;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .breakdown-result {
            font-size: 1.2rem;
        }

        .results-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }

        /* Landscape Orientation */
        @media (orientation: landscape) and (max-height: 600px) {
            body {
                padding: 10px;
                align-items: flex-start;
            }

            .card {
                padding: 25px;
            }

            .logo {
                font-size: 40px;
                margin-bottom: 10px;
            }

            h1 {
                font-size: 1.8rem;
            }

            .subtitle {
                font-size: 0.95rem;
                margin-bottom: 15px;
            }

            .stats-preview {
                margin-bottom: 15px;
            }

            .quiz-grid {
                max-height: 250px;
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            }

            .quiz-card {
                padding: 15px;
            }

            .quiz-card-icon {
                font-size: 1.8rem;
            }

            .quiz-header {
                margin-bottom: 15px;
            }

            .question-text {
                font-size: 1.15rem;
            }

            .options-container {
                display: grid;
                grid-template-columns: repeat(2, 1fr);
                gap: 10px;
            }

            .option {
                padding: 12px 16px;
            }

            .results-icon {
                font-size: 50px;
                margin-bottom: 10px;
            }

            .score-circle {
                width: 120px;
                height: 120px;
                margin-bottom: 20px;
            }

            .score-percentage {
                font-size: 1.8rem;
            }

            .results-stats {
                grid-template-columns: repeat(4, 1fr);
            }

            .result-stat {
                padding: 12px;
            }

            .result-stat-value {
                font-size: 1.3rem;
            }

            .results-breakdown {
                max-height: 150px;
                overflow-y: auto;
            }

            .breakdown-list {
                max-height: 100px;
            }
        }

        /* Mobile Portrait */
        @media (max-width: 500px) {
            .card {
                padding: 25px 20px;
            }

            h1 {
                font-size: 1.8rem;
            }

            .stats-preview {
                grid-template-columns: repeat(3, 1fr);
                gap: 10px;
            }

            .stat-item {
                padding: 10px;
            }

            .stat-value {
                font-size: 1.2rem;
            }

            .quiz-grid {
                grid-template-columns: repeat(2, 1fr);
                max-height: 350px;
            }

            .quiz-card {
                padding: 15px;
            }

            .quiz-card-icon {
                font-size: 2rem;
            }

            .quiz-card-title {
                font-size: 0.9rem;
            }

            .quiz-header {
                flex-direction: column;
                align-items: stretch;
            }

            .timer-container {
                justify-content: center;
            }

            .score-display {
                justify-content: center;
            }

            .question-text {
                font-size: 1.15rem;
            }

            .option {
                padding: 14px 16px;
            }

            .option-letter {
                width: 32px;
                height: 32px;
                font-size: 0.9rem;
            }

            .option-text {
                font-size: 0.95rem;
            }

            .results-stats {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* Scrollbar styling */
        ::-webkit-scrollbar {
            width: 6px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 3px;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 3px;
        }

        /* Confetti */
        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            top: -10px;
            animation: confetti-fall 3s linear forwards;
        }

        @keyframes confetti-fall {
            to {
                transform: translateY(100vh) rotate(720deg);
                opacity: 0;
            }
        }

        .hidden {
            display: none !important;
        }
    </style>
</head>
<body>
    <!-- Background Animation -->
    <div class="background-animation">
        <div class="bg-circle"></div>
        <div class="bg-circle"></div>
        <div class="bg-circle"></div>
    </div>

    <div class="app-container">
        <!-- Start Screen -->
        <div class="card start-screen" id="startScreen">
            <div class="logo">üß†</div>
            <h1>Quiz App</h1>
            <p class="subtitle">Test your knowledge across various topics!</p>
            
            <div class="stats-preview">
                <div class="stat-item">
                    <div class="stat-value" id="totalQuizzes">20</div>
                    <div class="stat-label">Quizzes</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">30s</div>
                    <div class="stat-label">Per Question</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="completedQuizzes">0</div>
                    <div class="stat-label">Completed</div>
                </div>
            </div>

            <div class="start-buttons">
                <button class="btn btn-primary" onclick="showSelectScreen()">Select Quiz</button>
                <button class="btn btn-random" onclick="startRandomQuiz()">üé≤ Random Quiz</button>
                <button class="btn btn-secondary" id="resumeBtn" onclick="resumeQuiz()" style="display: none;">
                    Resume Quiz
                </button>
            </div>
        </div>

        <!-- Quiz Selection Screen -->
        <div class="card select-screen" id="selectScreen">
            <div class="select-header">
                <h2>Choose a Quiz</h2>
                <p>Select a category to test your knowledge</p>
            </div>

            <div class="quiz-grid" id="quizGrid">
                <!-- Quiz cards will be dynamically inserted -->
            </div>

            <div class="select-footer">
                <button class="btn btn-secondary" onclick="goHome()">‚Üê Back</button>
                <button class="btn btn-random" onclick="startRandomQuiz()">üé≤ Random</button>
            </div>
        </div>

        <!-- Quiz Screen -->
        <div class="card quiz-screen" id="quizScreen">
            <div class="quiz-title-bar">
                <h3 id="quizTitleBar">üìö Quiz Name</h3>
            </div>

            <div class="quiz-header">
                <div class="progress-container">
                    <div class="progress-text">
                        <span>Progress</span>
                        <span id="progressText">1/10</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill" style="width: 10%"></div>
                    </div>
                </div>

                <div class="timer-container">
                    <div class="timer-ring">
                        <svg width="50" height="50">
                            <circle class="bg" cx="25" cy="25" r="21"></circle>
                            <circle class="progress" id="timerRing" cx="25" cy="25" r="21" 
                                stroke-dasharray="132" stroke-dashoffset="0"></circle>
                        </svg>
                    </div>
                    <div class="timer-value" id="timerValue">30</div>
                </div>

                <div class="score-display">
                    <span>‚≠ê</span>
                    <span id="currentScore">0</span>
                </div>
            </div>

            <div class="question-container">
                <div class="question-number" id="questionNumber">Question 1</div>
                <h2 class="question-text" id="questionText">Loading question...</h2>
                <div class="question-category" id="questionCategory">
                    <span>üìö</span>
                    <span>Category</span>
                </div>
            </div>

            <div class="options-container" id="optionsContainer">
                <!-- Options will be dynamically inserted -->
            </div>

            <div class="quiz-footer">
                <div class="feedback" id="feedback">
                    <span class="feedback-icon"></span>
                    <span class="feedback-text"></span>
                </div>
                <button class="btn btn-primary btn-next hidden" id="nextBtn" onclick="nextQuestion()">
                    Next Question ‚Üí
                </button>
            </div>
        </div>

        <!-- Results Screen -->
        <div class="card results-screen" id="resultsScreen">
            <div class="results-icon" id="resultsIcon">üèÜ</div>
            <h1 class="results-title" id="resultsTitle">Excellent!</h1>
            <p class="results-subtitle" id="resultsSubtitle">You've completed the quiz!</p>
            <div class="results-quiz-name" id="resultsQuizName">üìö Quiz Name</div>

            <div class="score-circle">
                <svg width="180" height="180">
                    <circle class="bg" cx="90" cy="90" r="78"></circle>
                    <circle class="progress" id="scoreRing" cx="90" cy="90" r="78" 
                        stroke-dasharray="490" stroke-dashoffset="490"></circle>
                </svg>
                <div class="score-text">
                    <div class="score-percentage" id="scorePercentage">0%</div>
                    <div class="score-label">Score</div>
                </div>
            </div>

            <div class="results-stats">
                <div class="result-stat">
                    <div class="result-stat-icon">‚úÖ</div>
                    <div class="result-stat-value" id="correctCount">0</div>
                    <div class="result-stat-label">Correct</div>
                </div>
                <div class="result-stat">
                    <div class="result-stat-icon">‚ùå</div>
                    <div class="result-stat-value" id="incorrectCount">0</div>
                    <div class="result-stat-label">Incorrect</div>
                </div>
                <div class="result-stat">
                    <div class="result-stat-icon">‚è±Ô∏è</div>
                    <div class="result-stat-value" id="avgTime">0s</div>
                    <div class="result-stat-label">Avg Time</div>
                </div>
                <div class="result-stat">
                    <div class="result-stat-icon">üî•</div>
                    <div class="result-stat-value" id="streak">0</div>
                    <div class="result-stat-label">Best Streak</div>
                </div>
            </div>

            <div class="results-breakdown" id="resultsBreakdown">
                <div class="breakdown-title">
                    <span>üìã</span>
                    <span>Question Breakdown</span>
                </div>
                <div class="breakdown-list" id="breakdownList">
                    <!-- Breakdown items will be inserted here -->
                </div>
            </div>

            <div class="results-buttons">
                <button class="btn btn-primary" onclick="restartQuiz()">Play Again</button>
                <button class="btn btn-secondary" onclick="showSelectScreen()">Other Quizzes</button>
                <button class="btn btn-secondary" onclick="goHome()">Home</button>
            </div>
        </div>
    </div>

    <script>
        // All Quiz Data - 20 Quizzes
        const allQuizzes = [
            {
                id: 'general',
                name: 'General Knowledge',
                icon: 'üß†',
                questions: [
                    { question: "What is the capital of Japan?", options: ["Seoul", "Tokyo", "Beijing", "Bangkok"], correct: 1 },
                    { question: "Which planet is known as the Red Planet?", options: ["Venus", "Jupiter", "Mars", "Saturn"], correct: 2 },
                    { question: "Who painted the Mona Lisa?", options: ["Van Gogh", "Picasso", "Da Vinci", "Michelangelo"], correct: 2 },
                    { question: "What is the largest mammal in the world?", options: ["Elephant", "Blue Whale", "Giraffe", "Hippo"], correct: 1 },
                    { question: "In what year did World War II end?", options: ["1943", "1944", "1945", "1946"], correct: 2 },
                    { question: "What is the chemical symbol for gold?", options: ["Go", "Gd", "Au", "Ag"], correct: 2 },
                    { question: "Who created JavaScript?", options: ["Python", "Java", "Brendan Eich", "Tim Berners-Lee"], correct: 2 },
                    { question: "What is the smallest country?", options: ["Monaco", "Vatican City", "San Marino", "Liechtenstein"], correct: 1 },
                    { question: "Who wrote 'Romeo and Juliet'?", options: ["Dickens", "Shakespeare", "Austen", "Twain"], correct: 1 },
                    { question: "How many bones in adult human body?", options: ["186", "206", "226", "246"], correct: 1 }
                ]
            },
            {
                id: 'geography',
                name: 'Geography',
                icon: 'üåç',
                questions: [
                    { question: "What is the longest river in the world?", options: ["Amazon", "Nile", "Yangtze", "Mississippi"], correct: 1 },
                    { question: "Which country has the most population?", options: ["USA", "India", "China", "Indonesia"], correct: 2 },
                    { question: "What is the largest desert in the world?", options: ["Sahara", "Gobi", "Antarctic", "Arabian"], correct: 2 },
                    { question: "Which ocean is the largest?", options: ["Atlantic", "Indian", "Pacific", "Arctic"], correct: 2 },
                    { question: "What is the capital of Australia?", options: ["Sydney", "Melbourne", "Canberra", "Perth"], correct: 2 },
                    { question: "Mount Everest is located in which mountain range?", options: ["Alps", "Andes", "Himalayas", "Rockies"], correct: 2 },
                    { question: "Which country is known as the Land of the Rising Sun?", options: ["China", "Korea", "Japan", "Thailand"], correct: 2 },
                    { question: "What is the largest country by area?", options: ["Canada", "USA", "China", "Russia"], correct: 3 },
                    { question: "The Amazon rainforest is mostly in which country?", options: ["Peru", "Colombia", "Brazil", "Venezuela"], correct: 2 },
                    { question: "What is the capital of Canada?", options: ["Toronto", "Vancouver", "Ottawa", "Montreal"], correct: 2 }
                ]
            },
            {
                id: 'science',
                name: 'Science',
                icon: 'üî¨',
                questions: [
                    { question: "What is the chemical formula for water?", options: ["H2O", "CO2", "NaCl", "O2"], correct: 0 },
                    { question: "What is the speed of light?", options: ["300,000 km/s", "150,000 km/s", "500,000 km/s", "1,000,000 km/s"], correct: 0 },
                    { question: "What is the powerhouse of the cell?", options: ["Nucleus", "Ribosome", "Mitochondria", "Golgi body"], correct: 2 },
                    { question: "What gas do plants absorb from the atmosphere?", options: ["Oxygen", "Nitrogen", "Carbon Dioxide", "Hydrogen"], correct: 2 },
                    { question: "What is the hardest natural substance?", options: ["Gold", "Iron", "Diamond", "Platinum"], correct: 2 },
                    { question: "How many chromosomes do humans have?", options: ["23", "46", "48", "44"], correct: 1 },
                    { question: "What is the largest organ in the human body?", options: ["Heart", "Liver", "Brain", "Skin"], correct: 3 },
                    { question: "What is the atomic number of Carbon?", options: ["4", "6", "8", "12"], correct: 1 },
                    { question: "What type of energy is stored in food?", options: ["Kinetic", "Thermal", "Chemical", "Nuclear"], correct: 2 },
                    { question: "What is the boiling point of water in Celsius?", options: ["90¬∞C", "100¬∞C", "110¬∞C", "120¬∞C"], correct: 1 }
                ]
            },
            {
                id: 'history',
                name: 'History',
                icon: 'üìú',
                questions: [
                    { question: "Who was the first President of the United States?", options: ["Jefferson", "Washington", "Adams", "Lincoln"], correct: 1 },
                    { question: "In which year did the Titanic sink?", options: ["1910", "1912", "1914", "1916"], correct: 1 },
                    { question: "Which ancient wonder was located in Egypt?", options: ["Colossus", "Lighthouse", "Pyramids", "Gardens"], correct: 2 },
                    { question: "Who discovered America in 1492?", options: ["Vespucci", "Magellan", "Columbus", "Cabot"], correct: 2 },
                    { question: "The French Revolution began in which year?", options: ["1776", "1789", "1799", "1804"], correct: 1 },
                    { question: "Who was the first man to walk on the moon?", options: ["Buzz Aldrin", "Neil Armstrong", "John Glenn", "Yuri Gagarin"], correct: 1 },
                    { question: "The Berlin Wall fell in which year?", options: ["1987", "1989", "1991", "1993"], correct: 1 },
                    { question: "Who wrote the Declaration of Independence?", options: ["Washington", "Franklin", "Jefferson", "Adams"], correct: 2 },
                    { question: "Which empire built the Colosseum?", options: ["Greek", "Roman", "Byzantine", "Ottoman"], correct: 1 },
                    { question: "World War I started in which year?", options: ["1912", "1914", "1916", "1918"], correct: 1 }
                ]
            },
            {
                id: 'movies',
                name: 'Movies & TV',
                icon: 'üé¨',
                questions: [
                    { question: "Who directed 'Jurassic Park'?", options: ["Lucas", "Spielberg", "Cameron", "Nolan"], correct: 1 },
                    { question: "What is the highest-grossing film of all time?", options: ["Titanic", "Avatar", "Endgame", "Star Wars"], correct: 1 },
                    { question: "Which actor played Iron Man in the MCU?", options: ["Chris Evans", "Chris Hemsworth", "Robert Downey Jr.", "Mark Ruffalo"], correct: 2 },
                    { question: "In which year was the first Harry Potter film released?", options: ["1999", "2000", "2001", "2002"], correct: 2 },
                    { question: "What is the name of Batman's butler?", options: ["Alfred", "James", "Thomas", "William"], correct: 0 },
                    { question: "Which TV show features dragons and the Iron Throne?", options: ["Vikings", "The Witcher", "Game of Thrones", "Lord of the Rings"], correct: 2 },
                    { question: "Who played Jack in 'Titanic'?", options: ["Brad Pitt", "Tom Cruise", "Leonardo DiCaprio", "Johnny Depp"], correct: 2 },
                    { question: "What is the name of the fictional African country in Black Panther?", options: ["Wakanda", "Zamunda", "Genovia", "Latveria"], correct: 0 },
                    { question: "Which animated film features a clownfish named Nemo?", options: ["Shark Tale", "Finding Nemo", "The Little Mermaid", "Moana"], correct: 1 },
                    { question: "Who directed 'The Dark Knight'?", options: ["Zack Snyder", "Christopher Nolan", "Tim Burton", "Matt Reeves"], correct: 1 }
                ]
            },
            {
                id: 'music',
                name: 'Music',
                icon: 'üéµ',
                questions: [
                    { question: "Who is known as the 'King of Pop'?", options: ["Elvis", "Prince", "Michael Jackson", "Freddie Mercury"], correct: 2 },
                    { question: "Which band performed 'Bohemian Rhapsody'?", options: ["The Beatles", "Queen", "Led Zeppelin", "Pink Floyd"], correct: 1 },
                    { question: "What instrument has 88 keys?", options: ["Guitar", "Violin", "Piano", "Harp"], correct: 2 },
                    { question: "Who sang 'Like a Virgin'?", options: ["Whitney Houston", "Madonna", "Cyndi Lauper", "Janet Jackson"], correct: 1 },
                    { question: "Which country is K-pop from?", options: ["Japan", "China", "South Korea", "Thailand"], correct: 2 },
                    { question: "How many strings does a standard guitar have?", options: ["4", "5", "6", "8"], correct: 2 },
                    { question: "Who composed the 'Moonlight Sonata'?", options: ["Mozart", "Beethoven", "Bach", "Chopin"], correct: 1 },
                    { question: "Which artist released 'Thriller'?", options: ["Prince", "Michael Jackson", "Stevie Wonder", "Whitney Houston"], correct: 1 },
                    { question: "What genre is associated with Bob Marley?", options: ["Jazz", "Reggae", "Blues", "Soul"], correct: 1 },
                    { question: "Which band had members John, Paul, George, and Ringo?", options: ["The Rolling Stones", "The Who", "The Beatles", "Led Zeppelin"], correct: 2 }
                ]
            },
            {
                id: 'sports',
                name: 'Sports',
                icon: '‚öΩ',
                questions: [
                    { question: "How many players are on a soccer team?", options: ["9", "10", "11", "12"], correct: 2 },
                    { question: "In which sport would you perform a slam dunk?", options: ["Volleyball", "Basketball", "Tennis", "Badminton"], correct: 1 },
                    { question: "How many Grand Slam tennis tournaments are there per year?", options: ["2", "3", "4", "5"], correct: 2 },
                    { question: "Which country hosted the 2016 Summer Olympics?", options: ["China", "UK", "Brazil", "Japan"], correct: 2 },
                    { question: "What is the national sport of Japan?", options: ["Karate", "Judo", "Sumo", "Kendo"], correct: 2 },
                    { question: "How many points is a touchdown worth in American football?", options: ["3", "5", "6", "7"], correct: 2 },
                    { question: "Which sport uses a shuttlecock?", options: ["Tennis", "Badminton", "Squash", "Table Tennis"], correct: 1 },
                    { question: "In golf, what is one under par called?", options: ["Eagle", "Birdie", "Bogey", "Albatross"], correct: 1 },
                    { question: "Which country has won the most FIFA World Cups?", options: ["Germany", "Italy", "Argentina", "Brazil"], correct: 3 },
                    { question: "How long is a marathon in kilometers?", options: ["21.1 km", "42.2 km", "50 km", "100 km"], correct: 1 }
                ]
            },
            {
                id: 'literature',
                name: 'Literature',
                icon: 'üìö',
                questions: [
                    { question: "Who wrote '1984'?", options: ["Huxley", "Orwell", "Bradbury", "Wells"], correct: 1 },
                    { question: "What is the first book of the Bible?", options: ["Exodus", "Genesis", "Leviticus", "Numbers"], correct: 1 },
                    { question: "Who wrote 'Pride and Prejudice'?", options: ["Bront√´", "Austen", "Shelley", "Eliot"], correct: 1 },
                    { question: "In which novel does the character Atticus Finch appear?", options: ["The Great Gatsby", "To Kill a Mockingbird", "Of Mice and Men", "Catcher in the Rye"], correct: 1 },
                    { question: "Who wrote 'The Odyssey'?", options: ["Sophocles", "Homer", "Plato", "Aristotle"], correct: 1 },
                    { question: "What is the name of Harry Potter's owl?", options: ["Errol", "Hedwig", "Pigwidgeon", "Scabbers"], correct: 1 },
                    { question: "Who wrote 'Don Quixote'?", options: ["Cervantes", "Garc√≠a M√°rquez", "Borges", "Neruda"], correct: 0 },
                    { question: "What is Sherlock Holmes' address?", options: ["221A Baker St", "221B Baker St", "221C Baker St", "222B Baker St"], correct: 1 },
                    { question: "Who wrote 'The Great Gatsby'?", options: ["Hemingway", "Fitzgerald", "Faulkner", "Steinbeck"], correct: 1 },
                    { question: "In which book does Big Brother appear?", options: ["Fahrenheit 451", "Brave New World", "1984", "Animal Farm"], correct: 2 }
                ]
            },
            {
                id: 'technology',
                name: 'Technology',
                icon: 'üíª',
                questions: [
                    { question: "Who founded Microsoft?", options: ["Steve Jobs", "Bill Gates", "Mark Zuckerberg", "Jeff Bezos"], correct: 1 },
                    { question: "What does CPU stand for?", options: ["Central Process Unit", "Central Processing Unit", "Computer Personal Unit", "Central Processor Utility"], correct: 1 },
                    { question: "In what year was the iPhone first released?", options: ["2005", "2006", "2007", "2008"], correct: 2 },
                    { question: "What does HTML stand for?", options: ["Hyper Text Markup Language", "High Tech Modern Language", "Hyper Transfer Markup Language", "Home Tool Markup Language"], correct: 0 },
                    { question: "Which company created Android?", options: ["Apple", "Microsoft", "Google", "Samsung"], correct: 2 },
                    { question: "What is the most popular programming language?", options: ["Python", "JavaScript", "Java", "C++"], correct: 1 },
                    { question: "Who is the CEO of Tesla?", options: ["Jeff Bezos", "Tim Cook", "Elon Musk", "Sundar Pichai"], correct: 2 },
                    { question: "What does Wi-Fi stand for?", options: ["Wireless Fidelity", "Wireless Finder", "Wide Fiber", "Nothing specific"], correct: 3 },
                    { question: "Which company owns Instagram?", options: ["Twitter", "Google", "Meta", "Microsoft"], correct: 2 },
                    { question: "What year was Google founded?", options: ["1996", "1998", "2000", "2002"], correct: 1 }
                ]
            },
            {
                id: 'food',
                name: 'Food & Cooking',
                icon: 'üçï',
                questions: [
                    { question: "What is the main ingredient in guacamole?", options: ["Tomato", "Avocado", "Onion", "Lime"], correct: 1 },
                    { question: "Which country is sushi from?", options: ["China", "Korea", "Japan", "Thailand"], correct: 2 },
                    { question: "What type of pasta is shaped like a bow tie?", options: ["Penne", "Farfalle", "Rigatoni", "Fusilli"], correct: 1 },
                    { question: "What is the main ingredient in hummus?", options: ["Lentils", "Chickpeas", "Black beans", "Peas"], correct: 1 },
                    { question: "Which spice is known as the most expensive in the world?", options: ["Vanilla", "Cardamom", "Saffron", "Cinnamon"], correct: 2 },
                    { question: "What is the national dish of Spain?", options: ["Tacos", "Paella", "Pasta", "Curry"], correct: 1 },
                    { question: "What fruit is used to make wine?", options: ["Apple", "Grape", "Cherry", "Plum"], correct: 1 },
                    { question: "Which vitamin is abundant in oranges?", options: ["Vitamin A", "Vitamin B", "Vitamin C", "Vitamin D"], correct: 2 },
                    { question: "What is tofu made from?", options: ["Rice", "Wheat", "Soybeans", "Corn"], correct: 2 },
                    { question: "Which country invented pizza?", options: ["USA", "France", "Italy", "Greece"], correct: 2 }
                ]
            },
            {
                id: 'animals',
                name: 'Animals & Nature',
                icon: 'ü¶Å',
                questions: [
                    { question: "What is the fastest land animal?", options: ["Lion", "Cheetah", "Leopard", "Gazelle"], correct: 1 },
                    { question: "How many legs does a spider have?", options: ["6", "8", "10", "12"], correct: 1 },
                    { question: "What is a group of lions called?", options: ["Pack", "Herd", "Pride", "Flock"], correct: 2 },
                    { question: "Which bird is known for its colorful tail feathers?", options: ["Eagle", "Peacock", "Parrot", "Flamingo"], correct: 1 },
                    { question: "What is the largest species of bear?", options: ["Grizzly", "Black Bear", "Polar Bear", "Panda"], correct: 2 },
                    { question: "How long is an elephant's pregnancy?", options: ["9 months", "12 months", "18 months", "22 months"], correct: 3 },
                    { question: "What is the only mammal capable of true flight?", options: ["Flying squirrel", "Bat", "Sugar glider", "Colugo"], correct: 1 },
                    { question: "Which animal has the longest lifespan?", options: ["Elephant", "Whale", "Tortoise", "Parrot"], correct: 2 },
                    { question: "What is the largest living reptile?", options: ["Komodo dragon", "Anaconda", "Saltwater crocodile", "Leatherback turtle"], correct: 2 },
                    { question: "How many hearts does an octopus have?", options: ["1", "2", "3", "4"], correct: 2 }
                ]
            },
            {
                id: 'art',
                name: 'Art & Architecture',
                icon: 'üé®',
                questions: [
                    { question: "Who painted 'Starry Night'?", options: ["Monet", "Van Gogh", "Picasso", "Dal√≠"], correct: 1 },
                    { question: "In which city is the Louvre Museum located?", options: ["London", "Paris", "Rome", "Madrid"], correct: 1 },
                    { question: "Who sculpted 'David'?", options: ["Da Vinci", "Raphael", "Michelangelo", "Donatello"], correct: 2 },
                    { question: "What art movement is Salvador Dal√≠ associated with?", options: ["Impressionism", "Cubism", "Surrealism", "Pop Art"], correct: 2 },
                    { question: "Which architect designed the Guggenheim Museum in New York?", options: ["Le Corbusier", "Frank Lloyd Wright", "I.M. Pei", "Zaha Hadid"], correct: 1 },
                    { question: "What is the Sistine Chapel famous for?", options: ["Sculptures", "Ceiling paintings", "Stained glass", "Mosaics"], correct: 1 },
                    { question: "Who painted 'The Persistence of Memory' with melting clocks?", options: ["Picasso", "Dal√≠", "Magritte", "Mir√≥"], correct: 1 },
                    { question: "What ancient structure is located at Giza?", options: ["Colosseum", "Parthenon", "Pyramids", "Stonehenge"], correct: 2 },
                    { question: "Which artist is known for Campbell's Soup Cans?", options: ["Lichtenstein", "Warhol", "Haring", "Basquiat"], correct: 1 },
                    { question: "What style is the Eiffel Tower?", options: ["Gothic", "Art Nouveau", "Iron lattice", "Neoclassical"], correct: 2 }
                ]
            },
            {
                id: 'math',
                name: 'Mathematics',
                icon: 'üî¢',
                questions: [
                    { question: "What is the value of Pi to two decimal places?", options: ["3.12", "3.14", "3.16", "3.18"], correct: 1 },
                    { question: "What is the square root of 144?", options: ["10", "11", "12", "13"], correct: 2 },
                    { question: "How many sides does a hexagon have?", options: ["5", "6", "7", "8"], correct: 1 },
                    { question: "What is 15% of 200?", options: ["20", "25", "30", "35"], correct: 2 },
                    { question: "What is the next prime number after 7?", options: ["9", "10", "11", "13"], correct: 2 },
                    { question: "What is 8 factorial (8!)?", options: ["5040", "40320", "362880", "3628800"], correct: 1 },
                    { question: "What is the sum of angles in a triangle?", options: ["90¬∞", "180¬∞", "270¬∞", "360¬∞"], correct: 1 },
                    { question: "What is the Roman numeral for 500?", options: ["C", "D", "L", "M"], correct: 1 },
                    { question: "What is 2 to the power of 10?", options: ["512", "1000", "1024", "2048"], correct: 2 },
                    { question: "What is the area formula for a circle?", options: ["œÄr", "œÄr¬≤", "2œÄr", "œÄd"], correct: 1 }
                ]
            },
            {
                id: 'languages',
                name: 'World Languages',
                icon: 'üó£Ô∏è',
                questions: [
                    { question: "What is the most spoken language in the world?", options: ["English", "Spanish", "Mandarin", "Hindi"], correct: 2 },
                    { question: "What does 'Bonjour' mean in French?", options: ["Goodbye", "Hello", "Thank you", "Please"], correct: 1 },
                    { question: "How many official languages does the UN have?", options: ["4", "5", "6", "7"], correct: 2 },
                    { question: "What language is 'Gracias' from?", options: ["Portuguese", "Italian", "Spanish", "French"], correct: 2 },
                    { question: "What is the official language of Brazil?", options: ["Spanish", "Portuguese", "English", "French"], correct: 1 },
                    { question: "Which language uses Cyrillic script?", options: ["Greek", "Arabic", "Russian", "Hebrew"], correct: 2 },
                    { question: "What does 'Arigatou' mean in Japanese?", options: ["Hello", "Goodbye", "Thank you", "Sorry"], correct: 2 },
                    { question: "How do you say 'yes' in German?", options: ["Oui", "S√≠", "Ja", "Da"], correct: 2 },
                    { question: "What language family does English belong to?", options: ["Romance", "Slavic", "Germanic", "Celtic"], correct: 2 },
                    { question: "What is 'Ciao' in Italian?", options: ["Only hello", "Only goodbye", "Both hello and goodbye", "Thank you"], correct: 2 }
                ]
            },
            {
                id: 'space',
                name: 'Space & Astronomy',
                icon: 'üöÄ',
                questions: [
                    { question: "How many planets are in our solar system?", options: ["7", "8", "9", "10"], correct: 1 },
                    { question: "What is the hottest planet in our solar system?", options: ["Mercury", "Venus", "Mars", "Jupiter"], correct: 1 },
                    { question: "What galaxy do we live in?", options: ["Andromeda", "Milky Way", "Triangulum", "Sombrero"], correct: 1 },
                    { question: "What is the largest planet in our solar system?", options: ["Saturn", "Neptune", "Jupiter", "Uranus"], correct: 2 },
                    { question: "How long does it take Earth to orbit the Sun?", options: ["365 days", "30 days", "24 hours", "7 days"], correct: 0 },
                    { question: "What is a shooting star actually?", options: ["Star", "Meteor", "Comet", "Asteroid"], correct: 1 },
                    { question: "Which planet has the Great Red Spot?", options: ["Mars", "Saturn", "Jupiter", "Neptune"], correct: 2 },
                    { question: "What is the closest star to Earth?", options: ["Alpha Centauri", "The Sun", "Proxima Centauri", "Sirius"], correct: 1 },
                    { question: "How many moons does Mars have?", options: ["0", "1", "2", "4"], correct: 2 },
                    { question: "What year did humans first land on the Moon?", options: ["1967", "1969", "1971", "1973"], correct: 1 }
                ]
            },
            {
                id: 'famous',
                name: 'Famous People',
                icon: 'üë§',
                questions: [
                    { question: "Who developed the theory of relativity?", options: ["Newton", "Einstein", "Hawking", "Bohr"], correct: 1 },
                    { question: "Who was the first woman to win a Nobel Prize?", options: ["Marie Curie", "Mother Teresa", "Jane Addams", "Pearl Buck"], correct: 0 },
                    { question: "Who painted the ceiling of the Sistine Chapel?", options: ["Da Vinci", "Raphael", "Michelangelo", "Botticelli"], correct: 2 },
                    { question: "Who wrote 'A Brief History of Time'?", options: ["Einstein", "Hawking", "Sagan", "Tyson"], correct: 1 },
                    { question: "Who was known as the 'Maid of Orl√©ans'?", options: ["Marie Antoinette", "Joan of Arc", "Catherine the Great", "Elizabeth I"], correct: 1 },
                    { question: "Who founded Amazon?", options: ["Bill Gates", "Steve Jobs", "Jeff Bezos", "Mark Zuckerberg"], correct: 2 },
                    { question: "Who said 'I have a dream'?", options: ["JFK", "MLK", "Malcolm X", "Obama"], correct: 1 },
                    { question: "Who invented the telephone?", options: ["Edison", "Bell", "Tesla", "Marconi"], correct: 1 },
                    { question: "Who was the first female Prime Minister of the UK?", options: ["May", "Thatcher", "Blair", "Churchill"], correct: 1 },
                    { question: "Who composed the four seasons?", options: ["Mozart", "Beethoven", "Vivaldi", "Bach"], correct: 2 }
                ]
            },
            {
                id: 'mythology',
                name: 'Mythology',
                icon: '‚ö°',
                questions: [
                    { question: "Who is the king of the Greek gods?", options: ["Poseidon", "Hades", "Zeus", "Apollo"], correct: 2 },
                    { question: "What creature has the head of a bull and body of a man?", options: ["Centaur", "Minotaur", "Satyr", "Cyclops"], correct: 1 },
                    { question: "Who is the Norse god of thunder?", options: ["Odin", "Loki", "Thor", "Freya"], correct: 2 },
                    { question: "What is the name of the Greek god of the sea?", options: ["Zeus", "Hades", "Poseidon", "Ares"], correct: 2 },
                    { question: "Which hero completed twelve labors?", options: ["Perseus", "Achilles", "Hercules", "Theseus"], correct: 2 },
                    { question: "What creature turns people to stone with its gaze?", options: ["Siren", "Medusa", "Harpy", "Sphinx"], correct: 1 },
                    { question: "Who is the Egyptian god of the dead?", options: ["Ra", "Osiris", "Anubis", "Horus"], correct: 1 },
                    { question: "What is Odin's eight-legged horse called?", options: ["Pegasus", "Sleipnir", "Bucephalus", "Shadowfax"], correct: 1 },
                    { question: "Which river do souls cross to reach the underworld?", options: ["Nile", "Styx", "Acheron", "Lethe"], correct: 1 },
                    { question: "Who flew too close to the sun?", options: ["Daedalus", "Icarus", "Perseus", "Orpheus"], correct: 1 }
                ]
            },
            {
                id: 'gaming',
                name: 'Video Games',
                icon: 'üéÆ',
                questions: [
                    { question: "What is the best-selling video game of all time?", options: ["Tetris", "Minecraft", "GTA V", "Wii Sports"], correct: 1 },
                    { question: "What company created Mario?", options: ["Sega", "Sony", "Nintendo", "Microsoft"], correct: 2 },
                    { question: "In what year was the first PlayStation released?", options: ["1992", "1994", "1996", "1998"], correct: 1 },
                    { question: "What is the main character's name in Legend of Zelda?", options: ["Zelda", "Link", "Ganon", "Epona"], correct: 1 },
                    { question: "Which game features the character Master Chief?", options: ["Gears of War", "Halo", "Destiny", "Call of Duty"], correct: 1 },
                    { question: "What block-based game was created by Markus Persson?", options: ["Terraria", "Roblox", "Minecraft", "Fortnite"], correct: 2 },
                    { question: "What is the name of Sonic's fox friend?", options: ["Knuckles", "Tails", "Shadow", "Amy"], correct: 1 },
                    { question: "Which game series features Pikachu?", options: ["Digimon", "Pok√©mon", "Yu-Gi-Oh", "Monster Hunter"], correct: 1 },
                    { question: "What does GTA stand for?", options: ["Grand Theft Auto", "Great Theft Adventure", "Grand Turismo Auto", "Get The Automobile"], correct: 0 },
                    { question: "In which game do you build with LEGO bricks digitally?", options: ["Minecraft", "Roblox", "LEGO Worlds", "Terraria"], correct: 2 }
                ]
            },
            {
                id: 'business',
                name: 'Business & Economics',
                icon: 'üíº',
                questions: [
                    { question: "What does GDP stand for?", options: ["Gross Domestic Product", "General Domestic Price", "Global Development Plan", "Gross Development Profit"], correct: 0 },
                    { question: "Which stock exchange is the largest by market cap?", options: ["NASDAQ", "NYSE", "London SE", "Tokyo SE"], correct: 1 },
                    { question: "What company has the ticker symbol AAPL?", options: ["Amazon", "Apple", "Alphabet", "Adobe"], correct: 1 },
                    { question: "Who wrote 'The Wealth of Nations'?", options: ["Karl Marx", "Adam Smith", "John Keynes", "Milton Friedman"], correct: 1 },
                    { question: "What is inflation?", options: ["Decrease in prices", "Increase in prices", "Stable prices", "Price controls"], correct: 1 },
                    { question: "Which currency is used in Japan?", options: ["Yuan", "Won", "Yen", "Ringgit"], correct: 2 },
                    { question: "What does IPO stand for?", options: ["Internal Public Offering", "Initial Public Offering", "International Price Option", "Internal Price Order"], correct: 1 },
                    { question: "Which company is the world's largest retailer?", options: ["Amazon", "Walmart", "Alibaba", "Costco"], correct: 1 },
                    { question: "What is a 'bear market'?", options: ["Rising prices", "Falling prices", "Stable prices", "Volatile prices"], correct: 1 },
                    { question: "Who is known as the 'Oracle of Omaha'?", options: ["Bill Gates", "Warren Buffett", "Elon Musk", "Jeff Bezos"], correct: 1 }
                ]
            },
            {
                id: 'health',
                name: 'Health & Medicine',
                icon: 'üè•',
                questions: [
                    { question: "What is the normal human body temperature in Celsius?", options: ["35¬∞C", "37¬∞C", "39¬∞C", "41¬∞C"], correct: 1 },
                    { question: "How many chambers does the human heart have?", options: ["2", "3", "4", "5"], correct: 2 },
                    { question: "What organ produces insulin?", options: ["Liver", "Kidney", "Pancreas", "Stomach"], correct: 2 },
                    { question: "What vitamin is produced when skin is exposed to sunlight?", options: ["Vitamin A", "Vitamin C", "Vitamin D", "Vitamin E"], correct: 2 },
                    { question: "How many teeth does an adult human have?", options: ["28", "30", "32", "34"], correct: 2 },
                    { question: "What is the largest internal organ?", options: ["Heart", "Brain", "Liver", "Lungs"], correct: 2 },
                    { question: "What type of blood cells fight infection?", options: ["Red blood cells", "White blood cells", "Platelets", "Plasma"], correct: 1 },
                    { question: "What is the medical term for high blood pressure?", options: ["Hypotension", "Hypertension", "Arrhythmia", "Anemia"], correct: 1 },
                    { question: "How many bones are in the human spine?", options: ["24", "26", "33", "36"], correct: 2 },
                    { question: "What does DNA stand for?", options: ["Deoxyribonucleic Acid", "Diribonucleic Acid", "Deoxyribose Nucleic Acid", "Dynamic Nucleic Acid"], correct: 0 }
                ]
            }
        ];

        // Game State
        let gameState = {
            currentQuiz: null,
            currentQuestion: 0,
            score: 0,
            answers: [],
            timePerQuestion: 30,
            timeLeft: 30,
            timerInterval: null,
            isAnswered: false,
            currentStreak: 0,
            bestStreak: 0,
            totalTimeUsed: 0,
            questionStartTime: 0
        };

        // DOM Elements
        const startScreen = document.getElementById('startScreen');
        const selectScreen = document.getElementById('selectScreen');
        const quizScreen = document.getElementById('quizScreen');
        const resultsScreen = document.getElementById('resultsScreen');

        // Initialize app
        function init() {
            loadStats();
            checkForSavedGame();
            renderQuizGrid();
        }

        // Load stats from localStorage
        function loadStats() {
            const stats = JSON.parse(localStorage.getItem('quizStats')) || {};
            let completed = 0;
            allQuizzes.forEach(quiz => {
                if (stats[quiz.id]?.completed) {
                    completed++;
                }
            });
            document.getElementById('completedQuizzes').textContent = completed;
        }

        // Get best score for a quiz
        function getBestScore(quizId) {
            const stats = JSON.parse(localStorage.getItem('quizStats')) || {};
            return stats[quizId]?.bestScore || null;
        }

        // Save quiz score
        function saveQuizScore(quizId, score) {
            const stats = JSON.parse(localStorage.getItem('quizStats')) || {};
            if (!stats[quizId]) {
                stats[quizId] = { completed: true, bestScore: score };
            } else {
                stats[quizId].completed = true;
                if (score > stats[quizId].bestScore) {
                    stats[quizId].bestScore = score;
                }
            }
            localStorage.setItem('quizStats', JSON.stringify(stats));
        }

        // Render quiz selection grid
        function renderQuizGrid() {
            const grid = document.getElementById('quizGrid');
            grid.innerHTML = '';

            allQuizzes.forEach(quiz => {
                const bestScore = getBestScore(quiz.id);
                const card = document.createElement('div');
                card.className = 'quiz-card';
                card.onclick = () => startQuizById(quiz.id);
                card.innerHTML = `
                    <div class="quiz-card-icon">${quiz.icon}</div>
                    <div class="quiz-card-title">${quiz.name}</div>
                    <div class="quiz-card-count">${quiz.questions.length} Questions</div>
                    ${bestScore !== null ? `<div class="quiz-card-best">Best: ${bestScore}%</div>` : ''}
                `;
                grid.appendChild(card);
            });
        }

        // Check for saved game
        function checkForSavedGame() {
            const savedState = localStorage.getItem('quizGameState');
            if (savedState) {
                const state = JSON.parse(savedState);
                const quiz = allQuizzes.find(q => q.id === state.currentQuiz);
                if (quiz && state.currentQuestion < quiz.questions.length && !state.isCompleted) {
                    document.getElementById('resumeBtn').style.display = 'block';
                }
            }
        }

        // Save game state
        function saveGameState() {
            const stateToSave = {
                ...gameState,
                isCompleted: false
            };
            localStorage.setItem('quizGameState', JSON.stringify(stateToSave));
        }

        // Clear saved game
        function clearSavedGame() {
            localStorage.removeItem('quizGameState');
            document.getElementById('resumeBtn').style.display = 'none';
        }

        // Show screen
        function showScreen(screen) {
            startScreen.style.display = 'none';
            selectScreen.style.display = 'none';
            quizScreen.style.display = 'none';
            resultsScreen.style.display = 'none';

            if (screen === 'start') {
                startScreen.style.display = 'block';
            } else if (screen === 'select') {
                selectScreen.style.display = 'block';
            } else if (screen === 'quiz') {
                quizScreen.style.display = 'block';
            } else if (screen === 'results') {
                resultsScreen.style.display = 'block';
            }
        }

        // Show quiz selection screen
        function showSelectScreen() {
            renderQuizGrid();
            showScreen('select');
        }

        // Start quiz by ID
        function startQuizById(quizId) {
            const quiz = allQuizzes.find(q => q.id === quizId);
            if (!quiz) return;

            clearSavedGame();
            gameState = {
                currentQuiz: quizId,
                currentQuestion: 0,
                score: 0,
                answers: [],
                timePerQuestion: 30,
                timeLeft: 30,
                timerInterval: null,
                isAnswered: false,
                currentStreak: 0,
                bestStreak: 0,
                totalTimeUsed: 0,
                questionStartTime: Date.now()
            };

            document.getElementById('quizTitleBar').innerHTML = `${quiz.icon} ${quiz.name}`;
            showScreen('quiz');
            loadQuestion();
            startTimer();
            saveGameState();
        }

        // Start random quiz
        function startRandomQuiz() {
            const randomIndex = Math.floor(Math.random() * allQuizzes.length);
            startQuizById(allQuizzes[randomIndex].id);
        }

        // Resume quiz
        function resumeQuiz() {
            const savedState = localStorage.getItem('quizGameState');
            if (savedState) {
                gameState = JSON.parse(savedState);
                gameState.questionStartTime = Date.now();
                const quiz = allQuizzes.find(q => q.id === gameState.currentQuiz);
                if (quiz) {
                    document.getElementById('quizTitleBar').innerHTML = `${quiz.icon} ${quiz.name}`;
                    showScreen('quiz');
                    loadQuestion();
                    startTimer();
                }
            }
        }

        // Get current quiz data
        function getCurrentQuiz() {
            return allQuizzes.find(q => q.id === gameState.currentQuiz);
        }

        // Load current question
        function loadQuestion() {
            const quiz = getCurrentQuiz();
            if (!quiz) return;

            const question = quiz.questions[gameState.currentQuestion];
            gameState.isAnswered = false;
            gameState.questionStartTime = Date.now();

            // Update progress
            const progress = ((gameState.currentQuestion + 1) / quiz.questions.length) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('progressText').textContent = 
                `${gameState.currentQuestion + 1}/${quiz.questions.length}`;

            // Update question info
            document.getElementById('questionNumber').textContent = 
                `Question ${gameState.currentQuestion + 1}`;
            document.getElementById('questionText').textContent = question.question;
            document.getElementById('questionCategory').innerHTML = 
                `<span>${quiz.icon}</span><span>${quiz.name}</span>`;

            // Update score
            document.getElementById('currentScore').textContent = gameState.score;

            // Create options
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            
            const letters = ['A', 'B', 'C', 'D'];
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.innerHTML = `
                    <span class="option-letter">${letters[index]}</span>
                    <span class="option-text">${option}</span>
                    <span class="option-icon"></span>
                `;
                optionElement.onclick = () => selectOption(index);
                optionsContainer.appendChild(optionElement);
            });

            // Hide feedback and next button
            document.getElementById('feedback').className = 'feedback';
            document.getElementById('nextBtn').classList.add('hidden');

            // Reset timer
            gameState.timeLeft = gameState.timePerQuestion;
            updateTimerDisplay();
        }

        // Select option
        function selectOption(index) {
            if (gameState.isAnswered) return;
            
            gameState.isAnswered = true;
            stopTimer();

            const timeUsed = Math.round((Date.now() - gameState.questionStartTime) / 1000);
            gameState.totalTimeUsed += timeUsed;

            const quiz = getCurrentQuiz();
            const question = quiz.questions[gameState.currentQuestion];
            const options = document.querySelectorAll('.option');
            const feedback = document.getElementById('feedback');

            // Disable all options
            options.forEach(opt => opt.classList.add('disabled'));

            // Mark selected option
            options[index].classList.add('selected');

            // Check answer
            const isCorrect = index === question.correct;
            
            if (isCorrect) {
                options[index].classList.remove('selected');
                options[index].classList.add('correct');
                options[index].querySelector('.option-icon').textContent = '‚úì';
                feedback.className = 'feedback correct';
                feedback.innerHTML = '<span>‚úì</span><span>Correct! +10 points</span>';
                gameState.score += 10;
                gameState.currentStreak++;
                if (gameState.currentStreak > gameState.bestStreak) {
                    gameState.bestStreak = gameState.currentStreak;
                }
            } else {
                options[index].classList.remove('selected');
                options[index].classList.add('incorrect');
                options[index].querySelector('.option-icon').textContent = '‚úó';
                options[question.correct].classList.add('correct');
                options[question.correct].querySelector('.option-icon').textContent = '‚úì';
                feedback.className = 'feedback incorrect';
                feedback.innerHTML = '<span>‚úó</span><span>Incorrect!</span>';
                gameState.currentStreak = 0;
            }

            // Store answer
            gameState.answers.push({
                questionIndex: gameState.currentQuestion,
                selectedOption: index,
                correctOption: question.correct,
                isCorrect: isCorrect,
                timeUsed: timeUsed,
                timedOut: false
            });

            // Update score display
            document.getElementById('currentScore').textContent = gameState.score;

            // Show next button
            const nextBtn = document.getElementById('nextBtn');
            nextBtn.classList.remove('hidden');
            nextBtn.textContent = gameState.currentQuestion < quiz.questions.length - 1 
                ? 'Next Question ‚Üí' 
                : 'See Results ‚Üí';

            saveGameState();
        }

        // Handle timeout
        function handleTimeout() {
            if (gameState.isAnswered) return;
            
            gameState.isAnswered = true;

            const quiz = getCurrentQuiz();
            const question = quiz.questions[gameState.currentQuestion];
            const options = document.querySelectorAll('.option');
            const feedback = document.getElementById('feedback');

            // Disable all options
            options.forEach(opt => opt.classList.add('disabled'));

            // Show correct answer
            options[question.correct].classList.add('correct');
            options[question.correct].querySelector('.option-icon').textContent = '‚úì';

            feedback.className = 'feedback timeout';
            feedback.innerHTML = '<span>‚è±Ô∏è</span><span>Time\'s up!</span>';

            gameState.currentStreak = 0;

            // Store answer
            gameState.answers.push({
                questionIndex: gameState.currentQuestion,
                selectedOption: -1,
                correctOption: question.correct,
                isCorrect: false,
                timeUsed: gameState.timePerQuestion,
                timedOut: true
            });

            gameState.totalTimeUsed += gameState.timePerQuestion;

            // Show next button
            const nextBtn = document.getElementById('nextBtn');
            nextBtn.classList.remove('hidden');
            nextBtn.textContent = gameState.currentQuestion < quiz.questions.length - 1 
                ? 'Next Question ‚Üí' 
                : 'See Results ‚Üí';

            saveGameState();
        }

        // Next question
        function nextQuestion() {
            const quiz = getCurrentQuiz();
            gameState.currentQuestion++;

            if (gameState.currentQuestion >= quiz.questions.length) {
                showResults();
            } else {
                loadQuestion();
                startTimer();
                saveGameState();
            }
        }

        // Timer functions
        function startTimer() {
            stopTimer();
            gameState.timeLeft = gameState.timePerQuestion;
            updateTimerDisplay();

            gameState.timerInterval = setInterval(() => {
                gameState.timeLeft--;
                updateTimerDisplay();

                if (gameState.timeLeft <= 0) {
                    stopTimer();
                    handleTimeout();
                }
            }, 1000);
        }

        function stopTimer() {
            if (gameState.timerInterval) {
                clearInterval(gameState.timerInterval);
                gameState.timerInterval = null;
            }
        }

        function updateTimerDisplay() {
            const timerValue = document.getElementById('timerValue');
            const timerRing = document.getElementById('timerRing');
            
            timerValue.textContent = gameState.timeLeft;

            // Update ring progress
            const circumference = 2 * Math.PI * 21;
            const offset = circumference * (1 - gameState.timeLeft / gameState.timePerQuestion);
            timerRing.style.strokeDashoffset = offset;

            // Change colors based on time
            timerValue.classList.remove('warning', 'danger');
            if (gameState.timeLeft <= 5) {
                timerValue.classList.add('danger');
                timerRing.style.stroke = '#ef4444';
            } else if (gameState.timeLeft <= 10) {
                timerValue.classList.add('warning');
                timerRing.style.stroke = '#f59e0b';
            } else {
                timerRing.style.stroke = '#6366f1';
            }
        }

        // Show results
        function showResults() {
            stopTimer();
            clearSavedGame();
            showScreen('results');

            const quiz = getCurrentQuiz();
            const correctAnswers = gameState.answers.filter(a => a.isCorrect).length;
            const incorrectAnswers = gameState.answers.length - correctAnswers;
            const percentage = Math.round((correctAnswers / quiz.questions.length) * 100);
            const avgTime = Math.round(gameState.totalTimeUsed / quiz.questions.length);

            // Save quiz score
            saveQuizScore(quiz.id, percentage);
            loadStats();

            // Set quiz name
            document.getElementById('resultsQuizName').innerHTML = `${quiz.icon} ${quiz.name}`;

            // Set results icon and title based on score
            const resultsIcon = document.getElementById('resultsIcon');
            const resultsTitle = document.getElementById('resultsTitle');
            const resultsSubtitle = document.getElementById('resultsSubtitle');

            if (percentage >= 80) {
                resultsIcon.textContent = 'üèÜ';
                resultsTitle.textContent = 'Excellent!';
                resultsSubtitle.textContent = 'You\'re a quiz champion!';
                createConfetti();
            } else if (percentage >= 60) {
                resultsIcon.textContent = 'üåü';
                resultsTitle.textContent = 'Great Job!';
                resultsSubtitle.textContent = 'You did really well!';
            } else if (percentage >= 40) {
                resultsIcon.textContent = 'üëç';
                resultsTitle.textContent = 'Good Effort!';
                resultsSubtitle.textContent = 'Keep practicing!';
            } else {
                resultsIcon.textContent = 'üìö';
                resultsTitle.textContent = 'Keep Learning!';
                resultsSubtitle.textContent = 'Practice makes perfect!';
            }

            // Update stats
            document.getElementById('correctCount').textContent = correctAnswers;
            document.getElementById('incorrectCount').textContent = incorrectAnswers;
            document.getElementById('avgTime').textContent = avgTime + 's';
            document.getElementById('streak').textContent = gameState.bestStreak;

            // Animate score circle
            setTimeout(() => {
                document.getElementById('scorePercentage').textContent = percentage + '%';
                const circumference = 2 * Math.PI * 78;
                const offset = circumference * (1 - percentage / 100);
                document.getElementById('scoreRing').style.strokeDashoffset = offset;

                // Set color based on score
                const scoreRing = document.getElementById('scoreRing');
                if (percentage >= 80) {
                    scoreRing.style.stroke = '#22c55e';
                } else if (percentage >= 60) {
                    scoreRing.style.stroke = '#6366f1';
                } else if (percentage >= 40) {
                    scoreRing.style.stroke = '#f59e0b';
                } else {
                    scoreRing.style.stroke = '#ef4444';
                }
            }, 100);

            // Generate breakdown
            const breakdownList = document.getElementById('breakdownList');
            breakdownList.innerHTML = '';
            
            gameState.answers.forEach((answer, index) => {
                const question = quiz.questions[answer.questionIndex];
                const item = document.createElement('div');
                
                let statusClass = 'incorrect';
                let statusIcon = '‚ùå';
                
                if (answer.timedOut) {
                    statusClass = 'timeout';
                    statusIcon = '‚è±Ô∏è';
                } else if (answer.isCorrect) {
                    statusClass = 'correct';
                    statusIcon = '‚úÖ';
                }

                item.className = `breakdown-item ${statusClass}`;
                item.innerHTML = `
                    <span class="breakdown-number">${index + 1}</span>
                    <span class="breakdown-question">${question.question}</span>
                    <span class="breakdown-result">${statusIcon}</span>
                `;
                breakdownList.appendChild(item);
            });
        }

        // Create confetti effect
        function createConfetti() {
            const colors = ['#6366f1', '#ec4899', '#22c55e', '#f59e0b', '#06b6d4'];
            
            for (let i = 0; i < 50; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = Math.random() * 100 + 'vw';
                    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.animationDuration = (Math.random() * 2 + 2) + 's';
                    confetti.style.transform = `rotate(${Math.random() * 360}deg)`;
                    document.body.appendChild(confetti);

                    setTimeout(() => confetti.remove(), 3000);
                }, i * 50);
            }
        }

        // Restart current quiz
        function restartQuiz() {
            startQuizById(gameState.currentQuiz);
        }

        // Go to home
        function goHome() {
            loadStats();
            checkForSavedGame();
            showScreen('start');
        }

        // Keyboard support
        document.addEventListener('keydown', (e) => {
            if (quizScreen.style.display === 'block' && !gameState.isAnswered) {
                const keyMap = { '1': 0, '2': 1, '3': 2, '4': 3, 'a': 0, 'b': 1, 'c': 2, 'd': 3 };
                if (keyMap.hasOwnProperty(e.key.toLowerCase())) {
                    selectOption(keyMap[e.key.toLowerCase()]);
                }
            }
            
            if (e.key === 'Enter') {
                const nextBtn = document.getElementById('nextBtn');
                if (!nextBtn.classList.contains('hidden')) {
                    nextQuestion();
                }
            }
        });

        // Handle page visibility
        document.addEventListener('visibilitychange', () => {
            if (document.hidden && gameState.timerInterval) {
                stopTimer();
            } else if (!document.hidden && quizScreen.style.display === 'block' && !gameState.isAnswered) {
                startTimer();
            }
        });

        // Initialize app
        init();
    </script>
</body>
</html>
